What is Data Integrity? (ржбрж╛ржЯрж╛ ржЗржирзНржЯрзЗржЧрзНрж░рж┐ржЯрж┐ ржХрзА?)

ржбрж╛ржЯрж╛ ржЗржирзНржЯрзЗржЧрзНрж░рж┐ржЯрж┐ рж╣рж▓рзЛ ржПржоржи ржПржХржЯрж┐ ржзрж╛рж░ржгрж╛ ржПржмржВ ржкрзНрж░ржХрзНрж░рж┐рзЯрж╛, ржпрж╛ ржПржХржЯрж┐ ржкрзНрж░рждрж┐рж╖рзНржарж╛ржирзЗрж░ ржбрж╛ржЯрж╛ржХрзЗ рж╕ржмрж╕ржорзЯ рж╕ржарж┐ржХ (Accuracy), рж╕ржЩрзНржЧрждрж┐ржкрзВрж░рзНржг (Consistency), рж╕ржорзНржкрзВрж░рзНржг (Completeness) ржПржмржВ ржмрзИржз (Validity) рж░рж╛ржЦрзЗред ржЕрж░рзНржерж╛рзО ржбрж╛ржЯрж╛ржмрзЗржЬрзЗ рж╕ржВрж░ржХрзНрж╖рж┐ржд рждржерзНржп ржпрзЗржи ржнрзБрж▓ ржирж╛ рж╣рзЯ, ржЕржкрзНрж░рзЯрзЛржЬржирзАрзЯржнрж╛ржмрзЗ ржбрзБржкрзНрж▓рж┐ржХрзЗржЯ ржирж╛ рж╣рзЯ, ржЕрж╕ржорзНржкрзВрж░рзНржг ржирж╛ ржерж╛ржХрзЗ ржПржмржВ рж╕рж░рзНржмржжрж╛ рж╕ржарж┐ржХ ржлрж░ржорзНржпрж╛ржЯрзЗ рж╕ржВрж░ржХрзНрж╖рж┐ржд ржерж╛ржХрзЗ, рж╕рзЗржЯрж┐ржЗ ржбрж╛ржЯрж╛ ржЗржирзНржЯрзЗржЧрзНрж░рж┐ржЯрж┐рж░ ржорзВрж▓ ржЙржжрзНржжрзЗрж╢рзНржпред

1я╕ПтГг Accuracy (рж╕ржарж┐ржХрждрж╛)

ржбрж╛ржЯрж╛ржмрзЗржЬрзЗ ржпрзЗржХрзЛржирзЛ ржбрж╛ржЯрж╛ ржЕржмрж╢рзНржпржЗ ржмрж╛рж╕рзНрждржм рждржерзНржпрзЗрж░ рж╕рж╛ржерзЗ ржорж┐рж▓ ржерж╛ржХрждрзЗ рж╣ржмрзЗред ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, ржХрзЛржирзЛ ржХрж╛рж╕рзНржЯржорж╛рж░рзЗрж░ ржлрзЛржи ржиржорзНржмрж░ ржпржжрж┐ 017XXXXXXXX рж╣рзЯ, рждржмрзЗ ржбрж╛ржЯрж╛ржмрзЗржЬрзЗ рж╕рзЗржЗ ржПржХржЗ рж╕ржарж┐ржХ ржиржорзНржмрж░ рж╕ржВрж░ржХрзНрж╖рж┐ржд ржерж╛ржХржмрзЗред ржнрзБрж▓ ржХрж░рзЗ ржпржжрж┐ 015XXXXXXX ржмрж╛ ржнрж╛ржЩрж╛ ржиржорзНржмрж░ рж╕ржВрж░ржХрзНрж╖ржг рж╣рзЯ, рждрж╛рж╣рж▓рзЗ рж╕рзЗржЯрж┐ ржбрж╛ржЯрж╛ ржЗржирзНржЯрзЗржЧрзНрж░рж┐ржЯрж┐рж░ рж▓ржЩрзНржШржиред

2я╕ПтГг Consistency (рж╕ржЩрзНржЧрждрж┐ржкрзВрж░рзНржгрждрж╛)

ржПржХржЯрж┐ ржбрж╛ржЯрж╛ ржпрзЗржЦрж╛ржирзЗржЗ ржерж╛ржХрзБржХ, рж╕ржм ржЬрж╛рзЯржЧрж╛рзЯ рж╕рзЗржЯрж┐ ржпрзЗржи ржПржХржЗ ржерж╛ржХрзЗред ржзрж░рзБржи, ржПржХржЬржи ржХрж╛рж╕рзНржЯржорж╛рж░рзЗрж░ ржирж╛ржо тАЬрж░рж╛рж╣рзБрж▓ ржЗрж╕рж▓рж╛ржотАЭ ржбрж╛ржЯрж╛ржмрзЗржЬрзЗ ржПржХржмрж╛рж░ тАЬRahul IslamтАЭ ржЖрж░рзЗржХржмрж╛рж░ тАЬR. IslamтАЭ рж▓рзЗржЦрж╛ рж╣рж▓рзЛтАФржПржЯрж╛ inconsistent ржбрж╛ржЯрж╛ред рж╕ржарж┐ржХ ржбрж╛ржЯрж╛ ржорж╛ржирзЗ рж╣рж▓рзЛ рж╕ржм ржЯрзЗржмрж┐рж▓рзЗ, рж╕ржм рж░рзЗржХрж░рзНржбрзЗ рждржерзНржп ржПржХржЗржнрж╛ржмрзЗ рж╕ржЩрзНржЧрждрж┐ржкрзВрж░рзНржг ржерж╛ржХрж╛ред

3я╕ПтГг Completeness (рж╕ржорзНржкрзВрж░рзНржгрждрж╛)

ржбрж╛ржЯрж╛ржмрзЗржЬрзЗрж░ ржкрзНрж░рждрж┐ржЯрж┐ рж░рзЗржХрж░рзНржбрзЗ ржкрзНрж░рзЯрзЛржЬржирзАрзЯ рж╕ржм рждржерзНржп ржерж╛ржХрждрзЗ рж╣ржмрзЗред ржпржжрж┐ ржХрзЛржирзЛ рж░рзЗржХрж░рзНржбрзЗ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг рждржерзНржп (ржпрзЗржоржи: ржХрж╛рж╕рзНржЯржорж╛рж░рзЗрж░ ржЗржорзЗржЗрж▓ ржмрж╛ ржЬржирзНржорждрж╛рж░рж┐ржЦ) ржмрж╛ржж ржкрзЬрзЗ ржпрж╛рзЯ, рждржмрзЗ рждрж╛ incomplete ржбрж╛ржЯрж╛ рж╣рзЯрзЗ ржпрж╛ржмрзЗред ржЖрж░ incomplete ржбрж╛ржЯрж╛ ржжрж┐рзЯрзЗ рж╕ржарж┐ржХ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг ржмрж╛ рж╕рж┐ржжрзНржзрж╛ржирзНржд ржирзЗржУрзЯрж╛ рж╕ржорзНржнржм ржирзЯред

4я╕ПтГг Validity (ржмрзИржзрждрж╛)

ржбрж╛ржЯрж╛рж░ ржлрж░ржорзНржпрж╛ржЯ ржПржмржВ рж╕рзАржорж╛ (range) ржЕржмрж╢рзНржпржЗ рж╕ржарж┐ржХ рж╣рждрзЗ рж╣ржмрзЗред ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, ржмрзЯрж╕ ржпржжрж┐ рзж ржерзЗржХрзЗ рззрзлрзж ржПрж░ ржоржзрзНржпрзЗ рж╣рждрзЗ рж╣рзЯ, рждржмрзЗ рзирзжрзж ржмрж╕рж╛ржирзЛ ржпрж╛ржмрзЗ ржирж╛ред ржПржХржЗржнрж╛ржмрзЗ, рждрж╛рж░рж┐ржЦ ржлрж┐рж▓рзНржбрзЗ 31-February рж░рж╛ржЦрж╛ рж╣рж▓рзЗ рж╕рзЗржЯрж╛ invalid ржбрж╛ржЯрж╛ рж╣ржмрзЗред ржмрзИржз ржбрж╛ржЯрж╛ ржорж╛ржирзЗржЗ рж╣рж▓рзЛ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржирж┐рзЯржо ржПржмржВ constraint ржорзЗржирзЗ ржбрж╛ржЯрж╛ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛ред

ЁЯУЭ рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк

ржбрж╛ржЯрж╛ ржЗржирзНржЯрзЗржЧрзНрж░рж┐ржЯрж┐ ржПржоржи ржПржХржЯрж┐ ржкрзНрж░ржХрзНрж░рж┐рзЯрж╛ ржпрж╛ ржПржХржЯрж┐ ржкрзНрж░рждрж┐рж╖рзНржарж╛ржирзЗрж░ ржбрж╛ржЯрж╛ржХрзЗ рж╕ржмрж╕ржорзЯ рж╕ржарж┐ржХ, ржирж┐рж░рзНржнрж░ржпрзЛржЧрзНржп ржПржмржВ ржмрзНржпржмрж╣рж╛рж░ржпрзЛржЧрзНржп рж░рж╛ржЦрзЗред ржПрж░ ржорж╛ржзрзНржпржорзЗ ржбрж╛ржЯрж╛ржмрзЗржЬрзЗ ржХрзЛржирзЛ ржзрж░ржирзЗрж░ ржнрзБрж▓, ржЕрж╕ржЩрзНржЧрждрж┐ ржмрж╛ ржЕрж╕ржорзНржкрзВрж░рзНржгрждрж╛ ржерж╛ржХрзЗржирж╛ред рж╕рж╣ржЬржнрж╛ржмрзЗ ржмрж▓рж╛ ржпрж╛рзЯтАФData without Integrity = Data without Trust.








Primary Threats to Data Integrity (ржбрж╛ржЯрж╛ ржЗржирзНржЯрзЗржЧрзНрж░рж┐ржЯрж┐рж░ ржкрзНрж░ржзрж╛ржи рж╣рзБржоржХрж┐)

ржбрж╛ржЯрж╛ ржЗржирзНржЯрзЗржЧрзНрж░рж┐ржЯрж┐ ржорж╛ржирзЗ рж╣рж▓рзЛ ржбрж╛ржЯрж╛ржХрзЗ рж╕ржмрж╕ржорзЯ рж╕ржарж┐ржХ, ржирж┐рж░рзНржнрж░ржпрзЛржЧрзНржп ржПржмржВ ржмрзНржпржмрж╣рж╛рж░ржпрзЛржЧрзНржп рж░рж╛ржЦрж╛ред ржХрж┐ржирзНрждрзБ ржмрж╛рж╕рзНрждржмрзЗ ржЕржирзЗржХ рж╕ржорзЯ ржПржЗ ржЗржирзНржЯрзЗржЧрзНрж░рж┐ржЯрж┐ ржирж╖рзНржЯ рж╣рзЯрзЗ ржпрж╛рзЯ ржмрж╛ ржнрзЗржЩрзЗ ржкрзЬрзЗред ржПрж░ ржкрзЗржЫржирзЗ ржерж╛ржХрзЗ ржХрж┐ржЫрзБ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж╣рзБржоржХрж┐ ржмрж╛ ржЭрзБржБржХрж┐, ржпрзЗржЧрзБрж▓рзЛржХрзЗ ржЖржорж░рж╛ Primary Threats to Data Integrity ржмрж▓рж┐ред

1я╕ПтГг Human Error (ржорж╛ржиржмрж┐ржХ ржнрзБрж▓ тАУ ржЗржЪрзНржЫрж╛ржХрзГржд ржмрж╛ ржЕржирж┐ржЪрзНржЫрж╛ржХрзГржд)

ржорж╛ржирзБрж╖рзЗрж░ ржнрзБрж▓ рж╣рж▓рзЛ ржбрж╛ржЯрж╛ ржЗржирзНржЯрзЗржЧрзНрж░рж┐ржЯрж┐ ржирж╖рзНржЯ рж╣ржУрзЯрж╛рж░ рж╕ржмржЪрзЗрзЯрзЗ рж╕рж╛ржзрж╛рж░ржг ржХрж╛рж░ржгред

Unintentional Error (ржЕржирж┐ржЪрзНржЫрж╛ржХрзГржд ржнрзБрж▓): ржнрзБрж▓ ржХрж░рзЗ ржнрзБрж▓ ржбрж╛ржЯрж╛ ржПржирзНржЯрзНрж░рж┐ ржХрж░рж╛, ржХрзЛржирзЛ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржлрж┐рж▓рзНржб ржЦрж╛рж▓рж┐ рж░рж╛ржЦрж╛, ржмрж╛ ржПржХржЗ рждржерзНржп ржжрзБржЗржмрж╛рж░ ржврзЛржХрж╛ржирзЛред

Malicious Error (ржЗржЪрзНржЫрж╛ржХрзГржд ржнрзБрж▓): ржЗржЪрзНржЫрж╛ржХрзГрждржнрж╛ржмрзЗ ржнрзБрж▓ ржбрж╛ржЯрж╛ ржврзЛржХрж╛ржирзЛ, рждржерзНржп ржмрж┐ржХрзГржд ржХрж░рж╛ ржмрж╛ ржЕржирзБржорждрж┐ ржЫрж╛рзЬрж╛ ржбрж╛ржЯрж╛ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ред

ржЙржжрж╛рж╣рж░ржг: ржПржХржЬржи ржХрж░рзНржорзА ржнрзБрж▓ ржХрж░рзЗ ржХрзЛржирзЛ ржХрж╛рж╕рзНржЯржорж╛рж░рзЗрж░ ржмрзЯрж╕ рзирзл-ржПрж░ ржЬрж╛рзЯржЧрж╛рзЯ рзлрзи рж▓рж┐ржЦрзЗ ржжрж┐рж▓ред ржЖржмрж╛рж░ ржЕржирзНржп ржПржХржЬржи ржЗржЪрзНржЫрж╛ржХрзГрждржнрж╛ржмрзЗ ржкрзЗржорзЗржирзНржЯ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж▓рзЛ fraud ржХрж░рж╛рж░ ржЬржирзНржпред

2я╕ПтГг Transfer Errors (ржбрж╛ржЯрж╛ ржЯрзНрж░рж╛ржирзНрж╕ржлрж╛рж░рзЗрж░ ржнрзБрж▓)

ржбрж╛ржЯрж╛ ржпржЦржи ржПржХ рж╕рж┐рж╕рзНржЯрзЗржо ржерзЗржХрзЗ ржЕржирзНржп рж╕рж┐рж╕рзНржЯрзЗржорзЗ ржпрж╛рзЯ (ржпрзЗржоржи ржирзЗржЯржУрзЯрж╛рж░рзНржХрзЗрж░ ржорж╛ржзрзНржпржорзЗ), рждржЦржи ржорж╛ржЭрзЗржорж╛ржЭрзЗ ржбрж╛ржЯрж╛ ржЖржВрж╢рж┐ржХржнрж╛ржмрзЗ ржЯрзНрж░рж╛ржирзНрж╕ржлрж╛рж░ рж╣рзЯ ржмрж╛ ржмрж┐ржХрзГржд рж╣рзЯрзЗ ржпрж╛рзЯред ржПрж░ ржлрж▓рзЗ ржбрж╛ржЯрж╛ржмрзЗржЬрзЗ ржЕрж╕ржорзНржкрзВрж░рзНржг ржмрж╛ ржнрзБрж▓ рждржерзНржп ржЬржорж╛ ржкрзЬрзЗред

ржЙржжрж╛рж╣рж░ржг: ржЕржирж▓рж╛ржЗржирзЗ ржХрзЛржирзЛ ржлрж╛ржЗрж▓ ржЖржкрж▓рзЛржб ржХрж░рж╛рж░ рж╕ржорзЯ ржХрж╛ржирзЗржХрж╢ржи ржХрзЗржЯрзЗ ржЧрзЗрж▓рзЗ ржлрж╛ржЗрж▓ corrupt рж╣рзЯрзЗ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред

3я╕ПтГг Bugs, Viruses, Malicious Hacking ржмрж╛ ржЕржирзНржпрж╛ржирзНржп рж╕рж╛ржЗржмрж╛рж░ ржЖржХрзНрж░ржоржг

рж╕ржлржЯржУрзЯрзНржпрж╛рж░рзЗрж░ ржмрж╛ржЧ, ржнрж╛ржЗрж░рж╛рж╕ ржмрж╛ рж╣рзНржпрж╛ржХрж╛рж░ржжрзЗрж░ ржЖржХрзНрж░ржоржгржУ ржбрж╛ржЯрж╛ ржЗржирзНржЯрзЗржЧрзНрж░рж┐ржЯрж┐рж░ ржЬржирзНржп ржмрзЬ рж╣рзБржоржХрж┐ред

рж╕ржлржЯржУрзЯрзНржпрж╛рж░рзЗрж░ Bug ржерж╛ржХрж▓рзЗ ржбрж╛ржЯрж╛ ржнрзБрж▓ржнрж╛ржмрзЗ ржкрзНрж░рзЛрж╕рзЗрж╕ рж╣рждрзЗ ржкрж╛рж░рзЗред

Virus ржмрж╛ Malware ржбрж╛ржЯрж╛ржХрзЗ corrupt ржХрж░рждрзЗ ржкрж╛рж░рзЗред

Hackers ржЗржЪрзНржЫрж╛ржХрзГрждржнрж╛ржмрзЗ ржбрж╛ржЯрж╛ ржЪрзБрж░рж┐ ржмрж╛ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рждрзЗ ржкрж╛рж░рзЗред

ржЙржжрж╛рж╣рж░ржг: ржПржХржЯрж┐ ржмрзНржпрж╛ржВржХрзЗрж░ рж╕рж┐рж╕рзНржЯрзЗржорзЗ рж╣рзНржпрж╛ржХрж╛рж░ ржврзБржХрзЗ ржЯрзНрж░рж╛ржирзНрж╕рзНржпрж╛ржХрж╢ржирзЗрж░ рж░рзЗржХрж░рзНржб ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзЗ ржжрж┐рж▓ред

4я╕ПтГг Compromised Hardware (рж╣рж╛рж░рзНржбржУрзЯрзНржпрж╛рж░ ржирж╖рзНржЯ рж╣рзЯрзЗ ржпрж╛ржУрзЯрж╛)

ржбрж╛ржЯрж╛ ржпрзЗржЦрж╛ржирзЗ рж╕ржВрж░ржХрзНрж╖рж┐ржд ржерж╛ржХрзЗ рж╕рзЗржЗ рж╣рж╛рж░рзНржбржУрзЯрзНржпрж╛рж░ ржпржжрж┐ ржХрзНрж╖рждрж┐ржЧрзНрж░рж╕рзНржд рж╣рзЯ, рждржмрзЗ ржбрж╛ржЯрж╛ ржЗржирзНржЯрзЗржЧрзНрж░рж┐ржЯрж┐ ржирж╖рзНржЯ рж╣рзЯред ржпрзЗржоржитАФрж╣рж╛рж░рзНржбржбрж┐рж╕рзНржХ crash, рж╕рж╛рж░рзНржнрж╛рж░ ржорзЗржорзЛрж░рж┐ failure, ржмрж╛ ржкрж╛ржУрзЯрж╛рж░ ржлрзЗржЗрж▓рж┐ржЙрж░рзЗрж░ ржХрж╛рж░ржгрзЗ ржбрж╛ржЯрж╛ corrupt рж╣рзЯрзЗ ржпрж╛ржУрзЯрж╛ред

ржЙржжрж╛рж╣рж░ржг: ржПржХржЯрж┐ ржХрзЛржорзНржкрж╛ржирж┐рж░ рж╕рж╛рж░рзНржнрж╛рж░ рж╣ржарж╛рзО ржХрзНрж░рзНржпрж╛рж╢ ржХрж░рж▓рзЗ рждрж╛ржжрзЗрж░ рж╕ржорж╕рзНржд ржХрж╛рж╕рзНржЯржорж╛рж░ ржбрж╛ржЯрж╛ рж╣рж╛рж░рж┐рзЯрзЗ ржпрж╛рзЯред

5я╕ПтГг Physical Compromise to Devices (ржбрж┐ржнрж╛ржЗрж╕рзЗрж░ рж╢рж╛рж░рзАрж░рж┐ржХ ржХрзНрж╖рждрж┐)

ржбрж┐ржнрж╛ржЗрж╕ ржпржжрж┐ ржЪрзБрж░рж┐ рж╣рзЯрзЗ ржпрж╛рзЯ, ржирж╖рзНржЯ рж╣рзЯрзЗ ржпрж╛рзЯ ржмрж╛ ржкрзНрж░рж╛ржХрзГрждрж┐ржХ ржжрзБрж░рзНржпрзЛржЧрзЗ ржХрзНрж╖рждрж┐ржЧрзНрж░рж╕рзНржд рж╣рзЯ, рждрж╛рждрзЗржУ ржбрж╛ржЯрж╛ ржЗржирзНржЯрзЗржЧрзНрж░рж┐ржЯрж┐ ржнрзЗржЩрзЗ ржкрзЬрзЗред

ржЪрзБрж░рж┐ (Theft)

ржЕржЧрзНржирж┐ржХрж╛ржгрзНржб (Fire)

ржмржирзНржпрж╛ ржмрж╛ ржнрзВржорж┐ржХржорзНржк (Natural disaster)

ржЙржжрж╛рж╣рж░ржг: ржПржХржЯрж┐ ржЕржлрж┐рж╕рзЗ ржЖржЧрзБржи рж▓рж╛ржЧрж▓рзЗ рждрж╛ржжрзЗрж░ рж╕рж╛рж░рзНржнрж╛рж░ рж░рзБржо рж╕ржорзНржкрзВрж░рзНржг ржкрзБрзЬрзЗ ржпрж╛рзЯ, ржлрж▓рзЗ рж╕ржм ржмрзНржпрж╛ржХржЖржк ржбрж╛ржЯрж╛ржУ рж╣рж╛рж░рж┐рзЯрзЗ ржпрж╛рзЯред

ЁЯУЭ рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк

ржбрж╛ржЯрж╛ ржЗржирзНржЯрзЗржЧрзНрж░рж┐ржЯрж┐рж░ рж╕ржмржЪрзЗрзЯрзЗ ржмрзЬ рж╢рждрзНрж░рзБ рж╣рж▓рзЛтАФржорж╛ржиржмрж┐ржХ ржнрзБрж▓, рж╕рж┐рж╕рзНржЯрзЗржо ржЯрзНрж░рж╛ржирзНрж╕ржлрж╛рж░ ржПрж░рж░, рж╕рж╛ржЗржмрж╛рж░ ржЖржХрзНрж░ржоржг, рж╣рж╛рж░рзНржбржУрзЯрзНржпрж╛рж░ рж╕ржорж╕рзНржпрж╛ ржПржмржВ ржбрж┐ржнрж╛ржЗрж╕рзЗрж░ рж╢рж╛рж░рзАрж░рж┐ржХ ржХрзНрж╖рждрж┐ред ржП ржХрж╛рж░ржгрзЗржЗ Data Integrity ржмржЬрж╛рзЯ рж░рж╛ржЦрждрзЗ ржХрзЗржмрж▓ ржбрж╛ржЯрж╛ржмрзЗржЬ ржбрж┐ржЬрж╛ржЗржи ржХрж░рж╛ржЗ ржпржерзЗрж╖рзНржЯ ржирзЯ; ржмрж░ржВ ржирж┐рж░рж╛ржкржж ржЕржмржХрж╛ржарж╛ржорзЛ, ржмрзНржпрж╛ржХржЖржк рж╕рж┐рж╕рзНржЯрзЗржо, рж╕рж┐ржХрж┐ржЙрж░рж┐ржЯрж┐ ржкрзНрж░ржЯрзЛржХрж▓ ржПржмржВ ржирж┐рзЯржорж┐ржд ржоржирж┐ржЯрж░рж┐ржВржУ рж╕ржорж╛ржиржнрж╛ржмрзЗ ржЬрж░рзБрж░рж┐ред






Maintaining Data Integrity: Problems & Solutions

ржбрж╛ржЯрж╛ ржЗржирзНржЯрзЗржЧрзНрж░рж┐ржЯрж┐рж░ ржЬржирзНржп ржкрзНрж░ржзрж╛ржи рж╣рзБржоржХрж┐ ржЖржЫрзЗ рзлржЯрж┐ред рждржмрзЗ рж╕рзБржЦржмрж░ рж╣рж▓рзЛтАФржПрж╕ржм рж╕ржорж╕рзНржпрж╛рж░ рж╕ржорж╛ржзрж╛ржиржУ рж╕ржорзНржнржмред рж╕рж╛ржзрж╛рж░ржгржд ржкрзНрж░ржержо рждрж┐ржиржЯрж┐ рж╣рзБржоржХрж┐ рж╕ржорж╛ржзрж╛ржи ржХрж░рж╛ ржпрж╛рзЯ Data Validation, Encryption ржПржмржВ Access Control ржПрж░ ржорж╛ржзрзНржпржорзЗред ржЖрж░ рж╢рзЗрж╖рзЗрж░ ржжрзБржЯрж┐ рж╣рзБржоржХрж┐ рж╕ржорж╛ржзрж╛ржи ржХрж░рж╛ ржпрж╛рзЯ Data Backup ржПржмржВ Duplication ржПрж░ ржорж╛ржзрзНржпржорзЗред ржирж┐ржЪрзЗ ржкрзНрж░рждрж┐ржЯрж┐ ржзрж╛ржкрзЗ ржмрж┐рж╢ржжржнрж╛ржмрзЗ ржмрзНржпрж╛ржЦрзНржпрж╛ ржХрж░рж╛ рж╣рж▓рзЛред

1я╕ПтГг Human Error, Transfer Error ржПржмржВ Cyber Threats тЖТ тЬЕ рж╕ржорж╛ржзрж╛ржи: Data Validation, Encryption ржПржмржВ Access Control

Human Error (ржорж╛ржиржмрж┐ржХ ржнрзБрж▓):
ржбрж╛ржЯрж╛рзЯ ржнрзБрж▓ ржмрж╛ ржбрзБржкрзНрж▓рж┐ржХрзЗржЯ ржПржирзНржЯрзНрж░рж┐ рж░рзЛржз ржХрж░рждрзЗ Data Validation ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯред ржпрзЗржоржитАФржлрзЛржи ржирж╛ржорзНржмрж╛рж░ ржлрж┐рж▓рзНржбрзЗ рж╢рзБржзрзБ ржбрж┐ржЬрж┐ржЯ ржПржмржВ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржжрзИрж░рзНржШрзНржп ржЧрзНрж░рж╣ржг ржХрж░рж╛, ржмрж╛ ржмрзЯрж╕ ржлрж┐рж▓рзНржбрзЗ ржирзЗржЧрзЗржЯрж┐ржн рж╕ржВржЦрзНржпрж╛ рж░рзЛржз ржХрж░рж╛ред

Transfer Error (ржбрж╛ржЯрж╛ ржЯрзНрж░рж╛ржирзНрж╕ржлрж╛рж░ рж╕ржорж╕рзНржпрж╛):
ржбрж╛ржЯрж╛ ржпржЦржи ржПржХ рж╕рж┐рж╕рзНржЯрзЗржо ржерзЗржХрзЗ ржЖрж░рзЗржХ рж╕рж┐рж╕рзНржЯрзЗржорзЗ ржпрж╛рзЯ, рждржЦржи Encryption ржПржмржВ Validation ржжрзБржЗ-ржЗ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржгред Encryption ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗ ржЯрзНрж░рж╛ржирзНрж╕ржлрж╛рж░рзЗрж░ рж╕ржорзЯ ржбрж╛ржЯрж╛ ржкрж░рж┐ржмрж░рзНрждрж┐ржд ржмрж╛ ржЪрзБрж░рж┐ ржирж╛ рж╣рзЯред ржЖрж░ Validation ржЪрзЗржХ ржХрж░рзЗ рж╕ржарж┐ржХ ржбрж╛ржЯрж╛ ржЧржирзНрждржмрзНржпрзЗ ржкрзМржБржЫрзЗржЫрзЗ ржХрж┐ ржирж╛ред

Cyber Threats (Bugs, Virus, Hacking):
ржПржХрзНрж╖рзЗрждрзНрж░рзЗ рж╕ржмржЪрзЗрзЯрзЗ ржХрж╛рж░рзНржпржХрж░рзА рж╣рж▓рзЛ Encryption ржПржмржВ Access Controlред Encryption ржбрж╛ржЯрж╛ржХрзЗ ржПржиржХрзНрж░рж┐ржкрзНржЯ ржХрж░рзЗ рж░рж╛ржЦрзЗ ржпрж╛рждрзЗ рж╣рзНржпрж╛ржХрж╛рж░ ржкрзЗрж▓рзЗржУ ржкрзЬрждрзЗ ржирж╛ ржкрж╛рж░рзЗред ржЖрж░ Access Control ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рзЗ ржХрзЗ ржХрзЛржи ржбрж╛ржЯрж╛ ржжрзЗржЦрждрзЗ ржмрж╛ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗред ржПрж░ ржорж╛ржзрзНржпржорзЗ ржЗржЪрзНржЫрж╛ржХрзГржд ржнрзБрж▓ (malicious activity) ржкрзНрж░рждрж┐рж░рзЛржз ржХрж░рж╛ ржпрж╛рзЯред

ЁЯСЙ рж╕рж╛рж░ржорж░рзНржо: ржкрзНрж░ржержо рждрж┐ржиржЯрж┐ рж╕ржорж╕рзНржпрж╛ ржирж┐рзЯржирзНрждрзНрж░ржг ржХрж░рж╛ ржпрж╛рзЯтАФ

Data Validation: рж╕ржарж┐ржХ ржбрж╛ржЯрж╛ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рждрзЗ

Encryption: ржбрж╛ржЯрж╛ рж╕рзБрж░ржХрзНрж╖рж┐ржд рж░рж╛ржЦрждрзЗ

Access Control: ржХрзЗржмрж▓ ржЕржирзБржорзЛржжрж┐ржд ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАржХрзЗ ржкрзНрж░ржмрзЗрж╢рж╛ржзрж┐ржХрж╛рж░ ржжрж┐рждрзЗ

2я╕ПтГг Hardware Failure ржПржмржВ Physical Compromise тЖТ тЬЕ рж╕ржорж╛ржзрж╛ржи: Data Backup ржПржмржВ Duplication

Hardware Failure (рж╣рж╛рж░рзНржбржУрзЯрзНржпрж╛рж░ ржХрзНрж╖рждрж┐):
рж╕рж╛рж░рзНржнрж╛рж░ ржмрж╛ рж╣рж╛рж░рзНржбржбрж┐рж╕рзНржХ рж╣ржарж╛рзО ржирж╖рзНржЯ рж╣рж▓рзЗ ржкрзБрж░рзЛ ржбрж╛ржЯрж╛ рж╣рж╛рж░рж┐рзЯрзЗ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред ржПржЬржирзНржп ржирж┐рзЯржорж┐ржд Data Backup рж░рж╛ржЦрж╛ ржЬрж░рзБрж░рж┐ред ржмрзНржпрж╛ржХржЖржк ржерж╛ржХрж▓рзЗ ржорзВрж▓ рж╕рж╛рж░рзНржнрж╛рж░ ржирж╖рзНржЯ рж╣рж▓рзЗржУ ржмрзНржпрж╛ржХржЖржк ржерзЗржХрзЗ ржбрж╛ржЯрж╛ ржлрж┐рж░рж┐рзЯрзЗ ржЖржирж╛ ржпрж╛рзЯред

Physical Compromise (рж╢рж╛рж░рзАрж░рж┐ржХ ржХрзНрж╖рждрж┐):
ржЕржЧрзНржирж┐ржХрж╛ржгрзНржб, ржмржирзНржпрж╛, ржнрзВржорж┐ржХржорзНржк ржмрж╛ ржбрж┐ржнрж╛ржЗрж╕ ржЪрзБрж░рж┐тАФржПрж╕ржм ржХрзНрж╖рзЗрждрзНрж░рзЗ ржбрж╛ржЯрж╛ рж░ржХрзНрж╖рж╛ ржкрж╛рзЯ рж╢рзБржзрзБржорж╛рждрзНрж░ Duplication ржПрж░ ржорж╛ржзрзНржпржорзЗред ржЕрж░рзНржерж╛рзО ржПржХржЯрж┐ ржХржкрж┐ рж╕рзНржерж╛ржирзАрзЯ рж╕рж╛рж░рзНржнрж╛рж░рзЗ, ржЖрж░рзЗржХржЯрж┐ ржХржкрж┐ ржЕржирзНржп рж╕рзНржерж╛ржирзЗ (off-site backup) рж░рж╛ржЦрж╛ рж╣рзЯред ржЕржирзЗржХ ржкрзНрж░рждрж┐рж╖рзНржарж╛ржи ржПржЦржи Cloud Storage ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ, ржпрж╛рждрзЗ рж▓рзЛржХрж╛рж▓ рж╕рж┐рж╕рзНржЯрзЗржо ржХрзНрж╖рждрж┐ржЧрзНрж░рж╕рзНржд рж╣рж▓рзЗржУ ржбрж╛ржЯрж╛ рж╕рзБрж░ржХрзНрж╖рж┐ржд ржерж╛ржХрзЗред

ЁЯСЙ рж╕рж╛рж░ржорж░рзНржо: рж╢рзЗрж╖ ржжрзБржЯрж┐ рж╕ржорж╕рзНржпрж╛ ржирж┐рзЯржирзНрждрзНрж░ржг ржХрж░рж╛ ржпрж╛рзЯтАФ

Data Backup: ржирж┐рзЯржорж┐ржд ржбрж╛ржЯрж╛ ржХржкрж┐ рж░рж╛ржЦрж╛

Duplication: ржнрж┐ржирзНржи рж╕рзНржерж╛ржирзЗ ржПржХрж╛ржзрж┐ржХ ржХржкрж┐ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛

ЁЯУЭ рж╕ржорж╛ржкржирзА ржирзЛржЯ

ржбрж╛ржЯрж╛ ржЗржирзНржЯрзЗржЧрзНрж░рж┐ржЯрж┐ ржирж╖рзНржЯ рж╣ржУрзЯрж╛рж░ ржЭрзБржБржХрж┐ рж╕ржмрж╕ржорзЯ ржерж╛ржХрзЗтАФржХржЦржирзЛ ржорж╛ржирзБрж╖рзЗрж░ ржнрзБрж▓рзЗ, ржХржЦржирзЛ рж╕рж╛ржЗржмрж╛рж░ ржЖржХрзНрж░ржоржгрзЗ, ржХржЦржирзЛ ржЖржмрж╛рж░ рж╣рж╛рж░рзНржбржУрзЯрзНржпрж╛рж░ ржмрж╛ ржбрж┐ржнрж╛ржЗрж╕ ржирж╖рзНржЯ рж╣ржУрзЯрж╛рж░ ржХрж╛рж░ржгрзЗред рждржмрзЗ рж╕ржарж┐ржХ ржкрзНрж░ржпрзБржХрзНрждрж┐ ржПржмржВ ржХрзМрж╢рж▓ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ ржПржЗ ржЭрзБржБржХрж┐ ржЕржирзЗржХржЯрж╛ржЗ ржХржорж╛ржирзЛ ржпрж╛рзЯред

Validation, Encryption, Access Control тЖТ ржорж╛ржиржмрж┐ржХ ржнрзБрж▓, ржЯрзНрж░рж╛ржирзНрж╕ржлрж╛рж░ ржПрж░рж░ ржПржмржВ рж╕рж╛ржЗржмрж╛рж░ рж╣рзБржоржХрж┐ ржирж┐рзЯржирзНрждрзНрж░ржг ржХрж░рзЗ

Backup, Duplication тЖТ рж╣рж╛рж░рзНржбржУрзЯрзНржпрж╛рж░ ржирж╖рзНржЯ рж╣ржУрзЯрж╛ ржПржмржВ ржбрж┐ржнрж╛ржЗрж╕ ржХрзНрж╖рждрж┐рж░ рж╕ржорзЯ ржбрж╛ржЯрж╛ржХрзЗ рж╕рзБрж░ржХрзНрж╖рж┐ржд рж░рж╛ржЦрзЗ

ржЕрж░рзНржерж╛рзО, ржбрж╛ржЯрж╛ ржЗржирзНржЯрзЗржЧрзНрж░рж┐ржЯрж┐ ржмржЬрж╛рзЯ рж░рж╛ржЦрждрзЗ рж╣рж▓рзЗ ржХрзЗржмрж▓ рж╕ржлржЯржУрзЯрзНржпрж╛рж░ ржирзЯ, ржмрж░ржВ рж╣рж╛рж░рзНржбржУрзЯрзНржпрж╛рж░, ржЗржиржлрзНрж░рж╛рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░ ржПржмржВ ржирж┐рж░рж╛ржкрждрзНрждрж╛ ржмрзНржпржмрж╕рзНржерж╛ржХрзЗржУ рж╕ржорж╛ржи ржЧрзБрж░рзБрждрзНржм ржжрж┐рждрзЗ рж╣ржмрзЗред








Natural Key vs Surrogate Key

ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗ ржкрзНрж░рждрж┐ржЯрж┐ row ржХрзЗ ржЗржЙржирж┐ржХржнрж╛ржмрзЗ ржЪрж┐рж╣рзНржирж┐ржд ржХрж░рж╛рж░ ржЬржирзНржп Primary Key ржжрж░ржХрж╛рж░ рж╣рзЯред ржПржЗ Primary Key ржжрзБржЗ ржзрж░ржирзЗрж░ рж╣рждрзЗ ржкрж╛рж░рзЗ тАФ

Natural Key

Surrogate Key

1. Natural Key

Definition:
Natural Key рж╣рж▓рзЛ ржПржоржи ржХрзЛржирзЛ attribute (ржХрж▓рж╛ржо) ржпрж╛ ржЖрж╕рж▓ ржбрзЗржЯрж╛рж░ ржнрзЗрждрж░ ржерзЗржХрзЗржЗ ржкрж╛ржУрзЯрж╛ ржпрж╛рзЯ ржПржмржВ ржкрзНрж░рж╛ржХрзГрждрж┐ржХржнрж╛ржмрзЗ (naturally) ржЗржЙржирж┐ржХ ржерж╛ржХрзЗред

Features:

ржбрзЗржЯрж╛рж░ ржоржзрзНржпрзЗржЗ key ржмрж┐ржжрзНржпржорж╛ржиред

рж╕рж╛ржзрж╛рж░ржгржд ржмрж╛рж╕рзНрждржм ржЬрзАржмржирзЗ ржмрзНржпржмрж╣рзГржд ржЖржЗржбрж┐ ржмрж╛ ржиржорзНржмрж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯред

рж╕рж╣ржЬрзЗ ржмрзЛржЭрж╛ ржпрж╛рзЯ, ржХрж╛рж░ржг business domain ржерзЗржХрзЗржЗ ржЖрж╕рзЗред

Examples:

National ID Number (NID) тЖТ ржкрзНрж░рждрж┐ржЯрж┐ ржирж╛ржЧрж░рж┐ржХрзЗрж░ ржЬржирзНржп ржЖрж▓рж╛ржжрж╛ред

Email Address тЖТ ржПржХржЬржи ржЗржЙржЬрж╛рж░рзЗрж░ ржЬржирзНржп ржЗржЙржирж┐ржХред

Passport Number тЖТ ржПржХржЬржи ржорж╛ржирзБрж╖рзЗрж░ ржПржХржЯрж╛ржЗ ржерж╛ржХрзЗред

SQL Example:

CREATE TABLE Employees (
    national_id CHAR(10) PRIMARY KEY,
    name VARCHAR(100),
    email VARCHAR(100) UNIQUE
);


ржПржЦрж╛ржирзЗ national_id рж╣рж▓рзЛ Natural Key, ржХрж╛рж░ржг ржПржЯрж╛ ржмрж╛рж╕рзНрждржмрзЗ ржПржХржЬржи ржХрж░рзНржоржЪрж╛рж░рзАрж░ ржЬржирзНржп рж╕ржмрж╕ржорзЯ ржЗржЙржирж┐ржХред

2. Surrogate Key

Definition:
Surrogate Key рж╣рж▓рзЛ ржПржоржи ржПржХржЯрж┐ ржХрзГрждрзНрж░рж┐ржоржнрж╛ржмрзЗ (artificially) рждрзИрж░рж┐ ржХрж░рж╛ key ржпрзЗржЯрж┐ business domain ржП ржирзЗржЗ, ржХрж┐ржирзНрждрзБ ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗ ржкрзНрж░рждрж┐ржЯрж┐ row ржХрзЗ ржЗржЙржирж┐ржХржнрж╛ржмрзЗ ржЪрж┐рж╣рзНржирж┐ржд ржХрж░рж╛рж░ ржЬржирзНржп ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯред

Features:

ржбрзЗржЯрж╛рж░ ржнрзЗрждрж░ ржерзЗржХрзЗ ржкрж╛ржУрзЯрж╛ ржпрж╛рзЯ ржирж╛, ржмрж░ржВ рж╕рж┐рж╕рзНржЯрзЗржо рждрзИрж░рж┐ ржХрж░рзЗред

рж╕рж╛ржзрж╛рж░ржгржд Auto Increment Number ржмрж╛ UUID ржЖржХрж╛рж░рзЗ рж╣рзЯред

ржбрзЗржЯрж╛ ржкрж░рж┐ржмрж░рзНрждржи рж╣рж▓рзЗржУ Surrogate Key ржкрж░рж┐ржмрж░рзНрждржи рж╣рзЯ ржирж╛ред

Examples:

Auto Increment ID тЖТ 1, 2, 3, 4тАж

UUID (Universally Unique Identifier)

SQL Example:

CREATE TABLE Employees (
    employee_id INT AUTO_INCREMENT PRIMARY KEY,
    national_id CHAR(10),
    name VARCHAR(100),
    email VARCHAR(100) UNIQUE
);


ржПржЦрж╛ржирзЗ employee_id рж╣рж▓рзЛ Surrogate Key, ржХрж╛рж░ржг ржПржЯрж╛ ржбрж╛ржЯрж╛ржмрзЗрж╕ рж╕рзНржмрзЯржВржХрзНрж░рж┐рзЯржнрж╛ржмрзЗ рждрзИрж░рж┐ ржХрж░ржЫрзЗред

ЁЯУМ Comparison Table
Aspect	Natural Key	Surrogate Key
Source	ржЖрж╕рж▓ ржбрзЗржЯрж╛ ржерзЗржХрзЗ	рж╕рж┐рж╕рзНржЯрзЗржо ржжрзНржмрж╛рж░рж╛ рждрзИрж░рж┐
Meaningful?	рж╣рзНржпрж╛ржБ (business logic ржП ржЕрж░рзНржержкрзВрж░рзНржг)	ржирж╛ (ржХрзЗржмрж▓ рж╢ржирж╛ржХрзНрждржХрж░ржгрзЗ ржмрзНржпржмрж╣рзГржд)
Stability	рж╕ржмрж╕ржорзЯ рж╕рзНржЯрзЗржмрж▓ ржирж╛ржУ рж╣рждрзЗ ржкрж╛рж░рзЗ (e.g. ржлрзЛржи ржиржорзНржмрж░ ржкрж░рж┐ржмрж░рзНрждржи рж╣рждрзЗ ржкрж╛рж░рзЗ)	рж╕ржмрж╕ржорзЯ рж╕рзНржЯрзЗржмрж▓ (ржПржХржмрж╛рж░ рждрзИрж░рж┐ рж╣рж▓рзЗ ржмржжрж▓рж╛рзЯ ржирж╛)
Ease of Use	рж╕рж╛ржзрж╛рж░ржгржд рж╕рж╣ржЬ ржмрзЛржЭрж╛ ржпрж╛рзЯ	ржорж╛ржирзБрж╖рзЗрж░ ржЬржирзНржп ржмрзЛржЭрж╛ ржХржарж┐ржи, ржХрж┐ржирзНрждрзБ ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗрж░ ржЬржирзНржп ржХрж╛рж░рзНржпржХрж░
Example	National ID, Email	Auto Increment ID, UUID
ЁЯОп ржХржЦржи ржХрзЛржиржЯрж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗржи?

Natural Key ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗржи ржпржЦржи:

Key ржЖрж╕рж▓рзЗржЗ ржЗржЙржирж┐ржХ ржПржмржВ ржХржЦржирзЛ ржкрж░рж┐ржмрж░рзНрждржи рж╣ржмрзЗ ржирж╛ред

ржпрзЗржоржи: National ID, Passport Numberред

Surrogate Key ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗржи ржпржЦржи:

ржбрзЗржЯрж╛рж░ ржоржзрзНржпрзЗ ржХрзЛржирзЛ ржЗржЙржирж┐ржХ ржмрж╛ рж╕рзНржерж╛рзЯрзА ржорж╛ржи ржирзЗржЗред

Business Rule рж╕ржорзЯрзЗрж░ рж╕рж╛ржерзЗ ржкрж░рж┐ржмрж░рзНрждржи рж╣рждрзЗ ржкрж╛рж░рзЗред

Performance ржУ Relationship рж╕рж╣ржЬ ржХрж░рж╛рж░ ржЬржирзНржпред

ЁЯСЙ ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, eCommerce Database ржПтАФ

Natural Key рж╣рждрзЗ ржкрж╛рж░рзЗ: email (ржХрж╛рж░ржг ржкрзНрж░рждрж┐ржЯрж┐ ржХрж╛рж╕рзНржЯржорж╛рж░рзЗрж░ ржЖрж▓рж╛ржжрж╛ ржЗржорзЗржЗрж▓ ржерж╛ржХрзЗ)ред

Surrogate Key рж╣рждрзЗ ржкрж╛рж░рзЗ: customer_id (Auto Increment)ред









тЬЕ Types of Data Integrity

ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗ Data Integrity ржмржЬрж╛рзЯ рж░рж╛ржЦрж╛рж░ ржЬржирзНржп ржХрзЯрзЗржХржЯрж┐ ржзрж░ржгрзЗрж░ Integrity Constraint ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯред ржПрж░ ржоржзрзНржпрзЗ ржорзВрж▓ржд ржЪрж╛рж░ржЯрж┐ ржнрж╛ржЧ ржкрж╛ржУрзЯрж╛ ржпрж╛рзЯтАФ

1. Entity Integrity

Definition:
Entity Integrity ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗ ржпрзЗ ржкрзНрж░рждрж┐ржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗрж░ row (tuple) ржХрзЗ ржПржХржХржнрж╛ржмрзЗ (uniquely) рж╕ржирж╛ржХрзНржд ржХрж░рж╛ ржпрж╛рзЯред

How?
ржПржЯрж╛ рж╕рж╛ржзрж╛рж░ржиржд Primary Key Constraint ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржХрж░рж╛ рж╣рзЯред

Rules:

Primary Key ржХржЦржирзЛ NULL рж╣рждрзЗ ржкрж╛рж░ржмрзЗ ржирж╛ред

Primary Key unique рж╣рждрзЗ рж╣ржмрзЗред

Example:

CREATE TABLE Customers (
    customer_id INT PRIMARY KEY,
    name VARCHAR(100),
    email VARCHAR(100)
);


ржПржЦрж╛ржирзЗ customer_id ржкрзНрж░рждрж┐ржЯрж┐ ржХрж╛рж╕рзНржЯржорж╛рж░ржХрзЗ ржЖрж▓рж╛ржжрж╛ржнрж╛ржмрзЗ ржЪрж┐рж╣рзНржирж┐ржд ржХрж░ржЫрзЗред

2. Referential Integrity

Definition:
Referential Integrity ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗ ржпрзЗ ржжрзБржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗрж░ ржоржзрзНржпрзЗ рж╕ржорзНржкрж░рзНржХ (relationship) рж╕ржмрж╕ржорзЯ рж╕ржарж┐ржХ ржерж╛ржХрзЗред

How?
ржПржЯрж╛ рж╕рж╛ржзрж╛рж░ржиржд Foreign Key Constraint ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржХрж░рж╛ рж╣рзЯред

Rules:

ржХрзЛржирзЛ ржЯрзЗржмрж┐рж▓рзЗ Foreign Key рж╣рж┐рж╕рж╛ржмрзЗ ржерж╛ржХрж╛ ржорж╛ржи ржЕржмрж╢рзНржпржЗ ржЕржирзНржп ржЯрзЗржмрж┐рж▓рзЗрж░ Primary Key ржПрж░ рж╕рж╛ржерзЗ ржорж┐рж▓рзЗ ржпрзЗрждрзЗ рж╣ржмрзЗред

ржпржжрж┐ Parent Table ржерзЗржХрзЗ ржбрзЗржЯрж╛ ржбрж┐рж▓рж┐ржЯ рж╣рзЯ, рждрж╛рж╣рж▓рзЗ Child Table-ржП рж╕рзЗржЗ ржбрзЗржЯрж╛ orphan рж╣рзЯрзЗ ржерж╛ржХрж╛ ржЙржЪрж┐ржд ржирзЯ (ON DELETE rules)ред

Example:

CREATE TABLE Orders (
    order_id INT PRIMARY KEY,
    customer_id INT,
    FOREIGN KEY (customer_id) REFERENCES Customers(customer_id)
);


ржПржЦрж╛ржирзЗ Orders.customer_id рж╕ржмрж╕ржорзЯ Customers.customer_id ржПрж░ рж╕рж╛ржерзЗ ржорж┐рж▓ржмрзЗред

3. Domain Integrity

Definition:
Domain Integrity ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗ ржпрзЗ ржПржХржЯрж┐ ржХрж▓рж╛ржорзЗрж░ (attribute) ржоржзрзНржпрзЗ рж╢рзБржзрзБ valid value ржерж╛ржХржмрзЗред

How?
ржПржЯрж╛ Data Type, Constraints (NOT NULL, CHECK, DEFAULT) ржЗрждрзНржпрж╛ржжрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржХрж░рж╛ рж╣рзЯред

Rules:

ржирж┐рж░рзНржжрж┐рж╖рзНржЯ range/format ржЕржирзБржпрж╛рзЯрзА ржбрзЗржЯрж╛ ржерж╛ржХрждрзЗ рж╣ржмрзЗред

ржЕржмрзИржз ржмрж╛ ржнрзБрж▓ ржорж╛ржи insert ржХрж░рж╛ ржпрж╛ржмрзЗ ржирж╛ред

Example:

CREATE TABLE Products (
    product_id INT PRIMARY KEY,
    product_name VARCHAR(50) NOT NULL,
    price DECIMAL(10,2) CHECK (price > 0)
);


ржПржЦрж╛ржирзЗ price ржЕржмрж╢рзНржпржЗ 0 ржПрж░ ржЪрзЗрзЯрзЗ ржмрзЬ рж╣рждрзЗ рж╣ржмрзЗред

4. User-Defined Integrity

Definition:
User-Defined Integrity рж╣рж▓рзЛ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ custom rules ржпрж╛ ржЕржирзНржп ржХрзЛржирзЛ Integrity (Entity, Referential, Domain) ржжрзНржмрж╛рж░рж╛ ржХржнрж╛рж░ ржХрж░рж╛ ржпрж╛рзЯ ржирж╛ред

How?
ржПржЯрж╛ рж╕рж╛ржзрж╛рж░ржгржд Triggers, Stored Procedures, Custom Constraints ржПрж░ ржорж╛ржзрзНржпржорзЗ ржХрж░рж╛ рж╣рзЯред

Example:

ржПржХржЬржи ржХрж╛рж╕рзНржЯржорж╛рж░ ржПржХржЗ ржжрж┐ржирзЗ рж╕рж░рзНржмрзЛржЪрзНржЪ рзлржЯрж╛ ржЕрж░рзНржбрж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ тАФ ржПржЯрж╛ Business Rule, ржпрж╛ User-Defined Integrity ржПрж░ ржоржзрзНржпрзЗ ржкрзЬрзЗред

CREATE TRIGGER limit_orders
BEFORE INSERT ON Orders
FOR EACH ROW
BEGIN
    IF (SELECT COUNT(*) FROM Orders 
        WHERE customer_id = NEW.customer_id 
        AND DATE(order_date) = CURDATE()) >= 5
    THEN
        SIGNAL SQLSTATE '45000' 
        SET MESSAGE_TEXT = 'Daily order limit exceeded!';
    END IF;
END;

ЁЯУМ Summary Table
Type	Ensures What?	Technique Used
Entity Integrity	ржкрзНрж░рждрж┐ржЯрж┐ row ржЗржЙржирж┐ржХ	Primary Key
Referential Integrity	Table рж╕ржорзНржкрж░рзНржХ ржарж┐ржХ ржЖржЫрзЗ	Foreign Key
Domain Integrity	Column value рж╕ржарж┐ржХ	Data Type, Constraints
User-Defined Integrity	Business rules ржорзЗржирзЗ ржЪрж▓рж╛	Triggers, Stored Procedures









ЁЯП╖я╕П Entity Integrity
ЁЯУМ рж╕ржВржЬрзНржЮрж╛ (Definition)

Entity Integrity рж╣рж▓рзЛ ржбрж╛ржЯрж╛ржмрзЗржЬрзЗрж░ ржПржХржЯрж┐ ржорзМрж▓рж┐ржХ ржирж┐рзЯржо ржпрж╛ ржмрж▓рзЗтАФ
ЁЯСЙ ржкрзНрж░рждрж┐ржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗрж░ Primary Key ржХрж▓рж╛ржо ржЕржмрж╢рзНржпржЗ ржЗржЙржирж┐ржХ (Unique) ржПржмржВ NULL ржирзЯ (Not Null) рж╣рждрзЗ рж╣ржмрзЗред
ржХрж╛рж░ржг Primary Key ржжрж┐рзЯрзЗржЗ ржкрзНрж░рждрж┐ржЯрж┐ row (entity/record) ржХрзЗ ржЗржЙржирж┐ржХржнрж╛ржмрзЗ рж╢ржирж╛ржХрзНржд ржХрж░рж╛ рж╣рзЯред

ржЕрж░рзНржерж╛рзО, Entity Integrity ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗ ржпрзЗ ржбрж╛ржЯрж╛ржмрзЗржЬрзЗ ржХрзЛржирзЛ ржжрзБржЗржЯрж╛ row ржПржХржЗ Primary Key ржкрж╛ржмрзЗ ржирж╛ ржПржмржВ ржХрзЛржирзЛ row-рж░ Primary Key ржлрж╛ржБржХрж╛ ржерж╛ржХржмрзЗ ржирж╛ред

ЁЯОп ржХрзЗржи Entity Integrity ржжрж░ржХрж╛рж░?

ржкрзНрж░рждрж┐ржЯрж┐ entity (record) ржХрзЗ ржЖрж▓рж╛ржжрж╛ржнрж╛ржмрзЗ рж╕ржирж╛ржХрзНржд ржХрж░рж╛рж░ ржЬржирзНржпред

Duplicate data ржПрзЬрж╛ржирзЛрж░ ржЬржирзНржпред

Data consistency ржмржЬрж╛рзЯ рж░рж╛ржЦрж╛рж░ ржЬржирзНржпред

Business logic ржнрж╛ржЩрж╛ ржарзЗржХрж╛рждрзЗред

ЁЯПв Real World Case (ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг)

National ID Database

ржкрзНрж░рждрж┐ржЯрж┐ ржирж╛ржЧрж░рж┐ржХрзЗрж░ ржЬржирзНржп NID рж╣рж▓рзЛ Primary Keyред

ржпржжрж┐ ржжрзБржЗржЬржи ржирж╛ржЧрж░рж┐ржХрзЗрж░ ржПржХржЗ NID ржерж╛ржХрзЗ, рждржмрзЗ ржХрзЗ ржЖрж╕рж▓ ржирж╛ржЧрж░рж┐ржХ рждрж╛ ржЖрж▓рж╛ржжрж╛ ржХрж░рж╛ рж╕ржорзНржнржм ржирзЯред

ржЖржмрж╛рж░, ржХрж╛рж░рзЛ NID ржпржжрж┐ NULL ржерж╛ржХрзЗ рждржмрзЗ рждрж╛ржХрзЗ рж╕рж┐рж╕рзНржЯрзЗржорзЗ рж░рзЗржХрж░рзНржб ржХрж░рж╛ ржпрж╛ржмрзЗ ржирж╛ред

ЁЯСЙ рждрж╛ржЗ Entity Integrity ржнржЩрзНржЧ рж╣ржмрзЗред

University Student Database

ржПржЦрж╛ржирзЗ student_id Primary Key рж╣рж┐рж╕рзЗржмрзЗ ржмрзНржпржмрж╣рзГржд рж╣рзЯред

ржкрзНрж░рждрж┐ржЯрж┐ рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзАрж░ ржЬржирзНржп ржЖрж▓рж╛ржжрж╛ student_id ржерж╛ржХрждрзЗ рж╣ржмрзЗред

ржпржжрж┐ ржХрж╛рж░рзЛ student_id ржПржХржЗ рж╣рзЯрзЗ ржпрж╛рзЯ ржЕржержмрж╛ ржХрзЛржирзЛ рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзАрж░ student_id NULL ржерж╛ржХрзЗ, рждржмрзЗ рждрж╛ржХрзЗ ржЕржирзНржпржжрзЗрж░ ржерзЗржХрзЗ ржЖрж▓рж╛ржжрж╛ ржХрж░рж╛ ржпрж╛ржмрзЗ ржирж╛ред

Bank Account System

account_number рж╣рж▓рзЛ Primary Keyред

ржПржХрж╛ржЙржирзНржЯ ржЦрзЛрж▓рж╛рж░ рж╕ржорзЯ ржкрзНрж░рждрж┐ржЯрж┐ ржЧрзНрж░рж╛рж╣ржХрзЗрж░ ржЬржирзНржп ржЖрж▓рж╛ржжрж╛ account_number рждрзИрж░рж┐ ржХрж░рж╛ рж╣рзЯред

ржпржжрж┐ ржжрзБржЗржЬржи ржЧрзНрж░рж╛рж╣ржХржХрзЗ ржПржХржЗ account_number ржжрзЗржУрзЯрж╛ рж╣рзЯ, рждрж╛рж╣рж▓рзЗ ржЯрж╛ржХрж╛ рж▓рзЗржиржжрзЗржирзЗ ржмрж┐рж╢рзГржЩрзНржЦрж▓рж╛ рж╣ржмрзЗред

тЪая╕П ржХржЦржи Entity Integrity Violation рж╣рзЯ?

Duplicate Primary Key

ржпржжрж┐ ржЯрзЗржмрж┐рж▓рзЗ ржХрзЛржирзЛ row ржПрж░ Primary Key ржорж╛ржи ржЖржЧрзЗрж░ ржЖрж░рзЗржХржЯрж┐ row ржПрж░ ржорждрзЛ рж╣рзЯрзЗ ржпрж╛рзЯред

ржпрзЗржоржи: ржПржХржЗ student_id ржжрж┐рзЯрзЗ ржжрзБржЗржЬржи рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзА рж░рзЗржЬрж┐рж╕рзНржЯрзНрж░рзЗрж╢ржи ржХрж░ржЫрзЗред

NULL Primary Key

ржпржжрж┐ Primary Key ржХрж▓рж╛ржорзЗ NULL ржорж╛ржи ржжрзЗржУрзЯрж╛ рж╣рзЯред

ржпрзЗржоржи: ржХрзЛржирзЛ ржирждрзБржи ржирж╛ржЧрж░рж┐ржХржХрзЗ NID ржЫрж╛рзЬрж╛ National Database-ржП ржпрзБржХрзНржд ржХрж░рж╛ред

тЬЕ SQL Example
рж╕ржарж┐ржХржнрж╛ржмрзЗ Entity Integrity ржмржЬрж╛рзЯ рж░рж╛ржЦрж╛:
CREATE TABLE Students (
    student_id INT PRIMARY KEY,
    name VARCHAR(100),
    email VARCHAR(100)
);

Entity Integrity Violation (ржпрж╛ ржнрзБрж▓):
-- Duplicate primary key error рж╣ржмрзЗ
INSERT INTO Students (student_id, name, email)
VALUES (101, 'Rahim', 'rahim@example.com');

INSERT INTO Students (student_id, name, email)
VALUES (101, 'Karim', 'karim@example.com'); 
-- ржПржЦрж╛ржирзЗ 101 ржжрзБтАЩржмрж╛рж░ ржмрзНржпржмрж╣рж╛рж░ рж╣ржУрзЯрж╛рзЯ violation рж╣ржмрзЗ

-- NULL primary key error рж╣ржмрзЗ
INSERT INTO Students (student_id, name, email)
VALUES (NULL, 'Selim', 'selim@example.com');

ЁЯУМ рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк

Entity Integrity ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗ ржпрзЗ Primary Key рж╕ржмрж╕ржорзЯ Unique ржПржмржВ Not Null ржерж╛ржХржмрзЗред

ржПржЯрж┐ ржнрж╛ржЩрж▓рзЗ ржбрж╛ржЯрж╛ржмрзЗржЬрзЗ ржмрж┐ржнрзНрж░рж╛ржирзНрждрж┐, ржбрзБржкрзНрж▓рж┐ржХрзЗрж╢ржи ржПржмржВ inconsistency рждрзИрж░рж┐ рж╣рзЯред

ржкрзНрж░рждрж┐ржЯрж┐ рж░рзЗржХрж░рзНржбржХрзЗ ржЖрж▓рж╛ржжрж╛ ржУ ржирж┐рж░рзНржнрж░ржпрзЛржЧрзНржпржнрж╛ржмрзЗ рж╕ржирж╛ржХрзНржд ржХрж░рж╛рж░ ржорзВрж▓ ржнрж┐рждрзНрждрж┐ржЗ рж╣рж▓рзЛ Entity Integrityред






Referential Integrity (RI) тАУ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржирзЛржЯ
ЁЯФ╣ Referential Integrity ржХрзА?

Referential Integrity рж╣ржЪрзНржЫрзЗ ржбрж╛ржЯрж╛ржмрзЗржЬрзЗрж░ ржПржоржи ржПржХржЯрж┐ ржирж┐рзЯржо/ржХржирж╕рзЗржкрзНржЯ, ржпрзЗржЯрж┐ Foreign Key ржПржмржВ Primary Key ржПрж░ ржоржзрзНржпрзЗ рж╕ржорзНржкрж░рзНржХржХрзЗ рж╕ржарж┐ржХ рж░рж╛ржЦрзЗред

рж╕рж╣ржЬржнрж╛ржмрзЗ ржмрж▓рж▓рзЗ:
ЁЯСЙ ржПржХ ржЯрзЗржмрж┐рж▓рзЗрж░ (child table) Foreign Key ржПрж░ ржорж╛ржи рж╕ржмрж╕ржорзЯ ржЕржирзНржп ржЯрзЗржмрж┐рж▓рзЗрж░ (parent table) Primary Key ржПрж░ ржорж╛ржирзЗрж░ рж╕рж╛ржерзЗ ржорж┐рж▓рждрзЗ рж╣ржмрзЗред

ржПрж░ ржЙржжрзНржжрзЗрж╢рзНржп рж╣рж▓рзЛ ржпрзЗржи ржЕржкрзНрж░рж╛рж╕ржЩрзНржЧрж┐ржХ, ржЕржмрж╛рж╕рзНрждржм ржмрж╛ ржнрж╛ржЩрж╛ ржбрзЗржЯрж╛ (invalid data) ржЯрзЗржмрж┐рж▓рзЗ ржирж╛ ржврзБржХрзЗред

ЁЯФ╣ ржХрзЗржи ржжрж░ржХрж╛рж░?

ржбрж╛ржЯрж╛ржмрзЗржЬрзЗ ржЯрзЗржмрж┐рж▓ ржЧрзБрж▓рзЛ ржПржХрзЗ ржЕржкрж░рзЗрж░ рж╕рж╛ржерзЗ рж░рж┐рж▓рзЗрж╢ржирж╢рж┐ржк (relationship) ржПрж░ ржорж╛ржзрзНржпржорзЗ ржпрзБржХрзНржд ржерж╛ржХрзЗред

ржпржжрж┐ Referential Integrity ржмржЬрж╛рзЯ ржирж╛ ржерж╛ржХрзЗ, рждржмрзЗ:

ржЕржкрзНрж░рж╛рж╕ржЩрзНржЧрж┐ржХ ржбрзЗржЯрж╛ ржврзБржХрзЗ ржпрзЗрждрзЗ ржкрж╛рж░рзЗ,

рж░рж┐ржкрзЛрж░рзНржЯ/ржХрзЛрзЯрзЗрж░рж┐ ржнрзБрж▓ ржЖрж╕рждрзЗ ржкрж╛рж░рзЗ,

ржбрж╛ржЯрж╛ржмрзЗржЬрзЗрж░ consistency ржирж╖рзНржЯ рж╣рзЯрзЗ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред

ЁЯФ╣ Referential Integrity ржмржЬрж╛рзЯ рж░рж╛ржЦрж╛рж░ ржирж┐рзЯржо

ржПржХржЯрж┐ Foreign Key ржПрж░ ржорж╛ржи рж╣рзЯ:

Parent Table ржПрж░ Primary Key ржПрж░ рж╕рж╛ржерзЗ ржорж┐рж▓рзЗ ржпрж╛ржмрзЗ

ржЕржержмрж╛ NULL рж╣ржмрзЗ (ржпржжрж┐ Null Allow ржерж╛ржХрзЗ)

Parent Table ржП Primary Key delete/update ржХрж░рж▓рзЗ, Child Table ржПрж░ Foreign Key ржПрж░ ржорж╛ржирзЗржУ ржкрзНрж░ржнрж╛ржм ржкрзЬржмрзЗ (ON DELETE / ON UPDATE rules ржПрж░ ржорж╛ржзрзНржпржорзЗ)ред

ЁЯФ╣ Referential Integrity Violation ржХржмрзЗ рж╣рзЯ?

Referential Integrity ржнрж╛ржЩрзЗ (violation рж╣рзЯ) ржирж┐ржЪрзЗрж░ ржкрж░рж┐рж╕рзНржерж┐рждрж┐рждрзЗ:

Invalid Insert (Child тЖТ Parent mismatch)

Child Table ржП ржПржоржи Foreign Key ржЗржирж╕рж╛рж░рзНржЯ ржХрж░рж╛ рж╣рж▓рзЛ ржпрзЗржЯрж╛ Parent Table ржП ржирзЗржЗред

ржЙржжрж╛рж╣рж░ржг:

Parent (Department): Dept_ID = 101, 102

Child (Employee): ржирждрзБржи Employee add ржХрж░рж▓рж╛ржо Dept_ID = 999 тЖТ ржХрж┐ржирзНрждрзБ Parent Table ржП 999 ржирж╛ржЗред

Invalid Delete (Parent delete, Child orphaned)

Parent Table ржерзЗржХрзЗ ржПржоржи ржПржХржЯрж┐ row delete ржХрж░рж╛ рж╣рж▓рзЛ, ржпрзЗржЯрж┐рж░ рж╕рж╛ржерзЗ Child Table ржП Foreign Key ржжрзНржмрж╛рж░рж╛ рж╕ржорзНржкрж░рзНржХрж┐ржд data ржЖржЫрзЗред

ржПрждрзЗ Child Table ржПрж░ row ржЧрзБрж▓рзЛ orphan рж╣рзЯрзЗ ржпрж╛рзЯред

ржЙржжрж╛рж╣рж░ржг:

Employee ржЯрзЗржмрж┐рж▓рзЗ Dept_ID = 101 ржЖржЫрзЗред

Department ржЯрзЗржмрж┐рж▓ ржерзЗржХрзЗ Dept_ID = 101 ржбрж┐рж▓рж┐ржЯ ржХрж░рзЗ ржжрж┐рж▓рзЗ Child ржЯрзЗржмрж┐рж▓рзЗрж░ Employee рж░рзЗржХрж░рзНржб ржЭрзБрж▓рзЗ ржпрж╛ржмрзЗред

Invalid Update (Parent key change)

Parent Table ржПрж░ Primary Key ржПрж░ ржорж╛ржи ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ рж╣рж▓рзЛ, ржХрж┐ржирзНрждрзБ Child Table ржПрж░ Foreign Key ржЖржкржбрзЗржЯ ржХрж░рж╛ рж╣рж▓рзЛ ржирж╛ред

ржлрж▓рзЗ Child Table ржПрж░ data ржЖрж░ ржХрзЛржирзЛ Parent ржПрж░ рж╕рж╛ржерзЗ ржорж┐рж▓рзЗ ржирж╛ред

ЁЯФ╣ Referential Integrity рж░ржХрзНрж╖рж╛ ржХрж░рж╛рж░ ржкржжрзНржзрждрж┐

SQL ржП ParentтАУChild relationship ржП Constraint ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯ:

FOREIGN KEY constraint

рж╕рж╛ржерзЗ ржирж┐ржЪрзЗрж░ Rule ржЧрзБрж▓рзЛ:

ON DELETE CASCADE тЖТ Parent delete рж╣рж▓рзЗ Child ржУ delete рж╣ржмрзЗред

ON DELETE SET NULL тЖТ Parent delete рж╣рж▓рзЗ Child ржПрж░ FK null рж╣рзЯрзЗ ржпрж╛ржмрзЗред

ON DELETE RESTRICT тЖТ Parent delete ржХрж░рждрзЗ ржжрзЗржмрзЗ ржирж╛ ржпржжрж┐ Child ржП data ржерж╛ржХрзЗред

ржПржХржЗржнрж╛ржмрзЗ ON UPDATE rules ржУ ржмрзНржпржмрж╣рж╛рж░ рж╣рзЯред

тЬЕ рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк

Referential Integrity = ParentтАУChild рж╕ржорзНржкрж░рзНржХрзЗрж░ consistency ржмржЬрж╛рзЯ рж░рж╛ржЦрж╛ред

Violation рж╣рзЯ ржпржЦржи:

Child ржП ржПржоржи data ржврзБржХрзЗ ржпрж╛ Parent ржП ржирзЗржЗ (Invalid Insert)ред

Parent delete рж╣рзЯрзЗ ржпрж╛рзЯ ржХрж┐ржирзНрждрзБ Child ржерзЗржХрзЗ ржпрж╛рзЯ (Invalid Delete)ред

Parent ржПрж░ Key update рж╣рж▓рзЗржУ Child update ржирж╛ рж╣рзЯ (Invalid Update)ред







Domain Integrity тАФ ржкрзБрж░рзЛ ржмрж┐ржмрж░ржг (ржмрж╛ржВрж▓рж╛ржпрж╝)
рзз) Domain Integrity ржХрзА?

Domain integrity ржмрж▓рждрзЗ ржмрзЛржЭрж╛ржпрж╝ ржкрзНрж░рждрж┐ржЯрж┐ ржХрж▓рж╛ржорзЗрж░ (attribute) ржЬржирзНржп рждрж╛рж░ рж╕ржорзНржнрж╛ржмрзНржп ржорж╛ржирзЗрж░ рж╕рзАржорж╛/ржбрзЛржорзЗржЗржи ржмрж╛ ржмрзИржз ржорж╛ржиржЧрзБрж▓рзЛ ржарж┐ржХ ржХрж░рзЗ ржжрзЗржУрзЯрж╛ред рж╕рж╣ржЬ ржХржерж╛ржпрж╝:

ржПржХржЯрж╛ ржХрж▓рж╛ржорзЗ ржХрзЛржи ржзрж░ржгрзЗрж░ ржбрзЗржЯрж╛ ржпрж╛ржмрзЗ, ржХржд ржжрзАрж░рзНржШ рж╣ржмрзЗ, ржХрзЛржи ржлрж░ржорзНржпрж╛ржЯрзЗ рж╣ржмрзЗ, ржХрзЛржи рж░рзЗржЮрзНржЬрзЗрж░ ржмрж╛ржЗрж░рзЗ ржпрж╛ржмрзЗ ржирж╛ тАФ ржПржЧрзБрж▓рзЛ рж╕ржм Domain Integrity ржжрзНржмрж╛рж░рж╛ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рж╛ рж╣рзЯред

ржЙржжрж╛рж╣рж╛рж░ржг: age = 0тАУ120 (integer), email = рж╕ржарж┐ржХ ржЗ-ржорзЗржЗрж▓ ржлрж░ржорзНржпрж╛ржЯ, price = non-negative decimal(10,2), country_code = 3-letter ISO uppercaseред

рзи) ржХрзЗржи ржжрж░ржХрж╛рж░?

ржбрж╛ржЯрж╛рж░ ржорж╛ржирж╛ржпрзБржХрзНрждрждрж╛ (data quality) ржмржЬрж╛ржпрж╝ рж░рж╛ржЦрзЗред

ржмрзНржпржмрж╕рж╛ржпрж╝рж┐ржХ ржирж┐рзЯржо (business rules) DB рж▓рзЗржнрзЗрж▓рзЗ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗтАФржЕрзНржпрж╛ржк ржХрзЛржб ржЫрж╛ржбрж╝рж╛ржУред

рж░рж┐ржкрзЛрж░рзНржЯ, рж╣рж┐рж╕рж╛ржм, ржЕрзНржпрж╛ржЧрзНрж░рж┐ржЧрзЗрж╢ржи рж╕ржарж┐ржХ рж░рж╛ржЦрзЗред

later migrations ржмрж╛ analytics рж╕рж╣ржЬ рж╣рзЯ ржХрж╛рж░ржг ржбрзЗржЯрж╛ predictable ржерж╛ржХрзЗред

рзй) Domain Integrity ржХрзА ржХрзА ржжрж┐ржпрж╝рзЗ enforce ржХрж░рж╛ ржпрж╛ржпрж╝? (Database-level tools)

Data types тАФ INTEGER, VARCHAR(n), DATE, DECIMAL(p,s), TIMESTAMP WITH TIME ZONE ржЗрждрзНржпрж╛ржжрж┐ред

NOT NULL тАФ ржХрж▓рж╛ржо ржЦрж╛рж▓рж┐ рж░рж╛ржЦрж╛ ржпрж╛ржмрзЗ ржирж╛ред

UNIQUE тАФ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржбрзЛржорзЗржЗржирзЗ duplicate ржорж╛ржи рж░рзЛржз ржХрж░рзЗред

DEFAULT тАФ ржпржжрж┐ ржЗржирж╕рж╛рж░рзНржЯрзЗ ржорж╛ржи ржирж╛ ржжрзЗржпрж╝ рждржмрзЗ ржбрж┐ржлрж▓рзНржЯ ржпрж╛ржмрзЗ (ржбрзЛржорзЗржЗржи ржкрзВрж░ржгрзЗ рж╕рж╣рж╛ржпрж╝ржХ)ред

CHECK constraints тАФ ржХрж╛рж╕рзНржЯржо рж▓ржЬрж┐ржХ: CHECK (age BETWEEN 0 AND 120) ржЗрждрзНржпрж╛ржжрж┐ред

ENUM / CREATE TYPE / CREATE DOMAIN (DB ржЕржирзБржпрж╛ржпрж╝рзА) тАФ рж╕рзАржорж┐ржд ржорж╛ржирзЗрж░ рж╕рзЗржЯред (Postgres-ржП CREATE DOMAIN ржУ CREATE TYPE ржЖржЫрзЗ)ред

Column collations / charset тАФ ржЯрзЗржХрзНрж╕ржЯ ржбрзЛржорзЗржЗржирзЗ ржХрзЗрж╕ рж╕рзЗржирж╕рж┐ржЯрж┐ржнрж┐ржЯрж┐ ржмрж╛ ржнрж╛рж╖рж╛ржнрж┐рждрзНрждрж┐ржХ ржирж┐рзЯржо ржирж┐рзЯржирзНрждрзНрж░ржгрзЗ рж▓рж╛ржЧрзЗред

Triggers / Stored Procedures тАФ ржЬржЯрж┐рж▓ ржХржирзНржбрж┐рж╢ржи ржпрзЗржЦрж╛ржирзЗ CHECK рж╕рж╣ржЬрзЗ рж▓рзЗржЦрж╛ ржпрж╛ржмрзЗ ржирж╛ред

NoSQL validators тАФ MongoDB ржПрж░ JSON Schema ржнрзНржпрж╛рж▓рж┐ржбрзЗржЯрж░ ржЗрждрзНржпрж╛ржжрж┐ред



рзк) ржЙржжрж╛рж╣рж░ржг тАФ SQL (Postgres-рж╕рзНржЯрж╛ржЗрж▓)

(ржирж┐ржЪрзЗрж░ржЧрзБрж▓рзЛ ржХрзЗржмрж▓ ржЙржжрж╛рж╣рж░ржг; MySQL/SQL Server-ржП syntax рж╕рж╛ржорж╛ржирзНржп ржкрж╛рж░рзНржержХрзНржп ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗ)

a) age тАФ integer рж░рзЗржЮрзНржЬ
CREATE TABLE persons (
  id SERIAL PRIMARY KEY,
  name TEXT NOT NULL,
  age INTEGER CHECK (age BETWEEN 0 AND 120)
);

b) email тАФ рж╕рж┐ржорзНржкрж▓ regex ржЪрзЗржХ
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  email TEXT NOT NULL,
  CONSTRAINT users_email_check CHECK (
    email ~* '^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$'
  )
);

c) price тАФ currency/decimal non-negative
CREATE TABLE products (
  id SERIAL PRIMARY KEY,
  name TEXT NOT NULL,
  price NUMERIC(12,2) NOT NULL CHECK (price >= 0)
);

d) country_code тАФ CREATE DOMAIN (Postgres)
CREATE DOMAIN iso_country AS CHAR(3)
  CHECK (VALUE ~ '^[A-Z]{3}$');

CREATE TABLE customers (
  id SERIAL PRIMARY KEY,
  name TEXT,
  country iso_country
);

e) ENUM (status)
CREATE TYPE order_status AS ENUM ('pending','paid','shipped','cancelled');

CREATE TABLE orders (
  id SERIAL PRIMARY KEY,
  status order_status NOT NULL DEFAULT 'pending'
);

f) Unique with case-insensitive email (best practice)
CREATE UNIQUE INDEX ux_users_email_ci ON users (LOWER(email));


рзл) Domain Integrity violation ржХржмрзЗ рж╣рзЯ тАФ ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржгрж╕рж╣

Domain integrity violation ржЕрж░рзНрже тАФ ржХрзЛржиржУ ржЗржирж╕рж╛рж░рзНржЯ/ржЖржкржбрзЗржЯ/ржоржбрж┐ржлрж╛ржЗ ржЕржкрж╛рж░рзЗрж╢ржирзЗ ржХрзЛржи ржХрж▓рж╛ржорзЗрж░ ржорж╛ржи рждрж╛рж░ ржирж┐рж░рзНржзрж╛рж░рж┐ржд ржбрзЛржорзЗржЗржи ржмрж╛ ржирж┐ржпрж╝ржо ржнрзЗржЩрзЗ ржЧрзЗрж▓рзЗред

ржкрзНрж░ржХрзГржд ржХрзНрж╖рзЗрждрзНрж░рзЗ ржнрж╛ржЩрж╛рж░ ржЙржжрж╛рж╣рж░ржг:

ржЯрж╛ржЗржк/рж╕рж╛ржЗржЬ рж▓ржЩрзНржШржи

VARCHAR(10)-ржП 20 ржЕржХрзНрж╖рж░рзЗрж░ рж╕рзНржЯрзНрж░рж┐ржВ ржЗржирж╕рж╛рж░рзНржЯ ржХрж░рж▓рзЗред

ржлрж▓: DB-level error ржмрж╛ ржЯрзНрж░рж╛ржЩрзНржХрзЗрж╢ржи (DB ржХржиржлрж┐ржЧ ржЕржирзБржпрж╛ржпрж╝рзА)ред

NOT NULL ржнрж╛ржЩрж╛

name NOT NULL ржУржЗржЦрж╛ржирзЗ NULL ржврзБржХржмрзЗ тЖТ errorред

Postgres-msg ржЙржжрж╛рж╣рж░ржг: ERROR: null value in column "name" violates not-null constraint

CHECK ржнрж╛ржЩрж╛ (рж░рзЗржЮрзНржЬ/ржлрж░ржорзНржпрж╛ржЯ)

age = -5 ржмрж╛ email = 'foo' тЖТ violates check constraintред

Postgres-msg ржЙржжрж╛рж╣рж░ржг: ERROR: new row for relation "persons" violates check constraint "persons_age_check"

ENUM/DOMAIN ржнрж╛ржЩрж╛

order_status = 'delayed' ржпржЦржи enum рждрж╛рждрзЗ ржирзЗржЗ тЖТ errorред

UNIQUE ржХрзЗрж╕ (ржХрзЗрж╕-рж╕рзЗржирзНрж╕рж┐ржЯрж┐ржнрж┐ржЯрж┐ ржирж╛ ржмрзБржЭрзЗ) тАФ domain ржирж╛ ржорзЗржЗржирзНржЯрзЗржЗржи ржХрж░рж▓рзЗ

Email@example.com ржУ email@example.com ржпржжрж┐ ржЖрж▓рж╛ржжрж╛ ржзрж░рж╛ рж╣рзЯ ржХрж┐ржирзНрждрзБ ржЖржкржирж┐ ржЪрж╛ржЪрзНржЫрзЗржи ржПржХржЗ ржзрж░рж╛ рж╣рзЛржХ тЖТ violation ржмрж╛ duplicates ржпрж╛ржмрзЗ ржпржжрж┐ constraint ржирж╛ ржерж╛ржХрзЗред

Precision/Scale ржнрж╛ржЩрж╛ (numeric)

NUMERIC(5,2)-ржП 1000.00 ржврзБржХрж▓рзЗ overflow ржмрж╛ error рж╣рждрзЗ ржкрж╛рж░рзЗред

Locale/charset рж╕ржорж╕рзНржпрж╛

ржирж┐рж░рзНржжрж┐рж╖рзНржЯ column-ржП non-UTF char ржврзБржХрж▓рзЗ ржмрж╛ collation mismatch ржП unexpected behavior рж╣рждрзЗ ржкрж╛рж░рзЗред

рзм) ржХрзАржнрж╛ржмрзЗ violation detect ржУ ржарж┐ржХ ржХрж░ржмрзЗржи (ржкрзНрж░рзЯрзЛржЧржЧржд ржзрж╛ржк)

ржирждрзБржи constraint ржпрзЛржЧ ржХрж░рж╛рж░ ржЖржЧрзЗ рж╕ржм ржкрзБрж░ржирзЛ ржбрзЗржЯрж╛ ржЪрзЗржХ ржХрж░рзБржи

ржЙржжрж╛рж╣рж░ржг: SELECT * FROM users WHERE NOT (email ~* 'regex');

SELECT * FROM products WHERE price < 0; ржЗрждрзНржпрж╛ржжрж┐ред

ржнрж╛ржЩрж╛ рж░рзЛ ржЧрзБрж▓рзЛ ржарж┐ржХ ржХрж░рзБржи (UPDATE / DELETE / set NULL) ржмрж╛ рж░рж┐ржкрзЛрж░рзНржЯ рждрзИрж░рж┐ ржХрж░рзБржи, рждрж╛рж░ржкрж░ constraint ржпрзЛржЧ ржХрж░рзБржиред

Example: UPDATE users SET email = lower(email) WHERE email IS NOT NULL;

Postgres-ржПрж░ ржЬржирзНржп ржзрж╛ржкрзЗ ржзрж╛ржкрзЗ ржирж┐рж░рж╛ржкржж ржорж╛ржЗржЧрзНрж░рзЗрж╢ржи

ржкрзНрж░ржержорзЗ constraint NOT VALID ржжрж┐ржпрж╝рзЗ ржпрзЛржЧ ржХрж░рзБржи (ржПржЯрж╛ ржирждрзБржи ржЗржирж╕рж╛рж░рзНржЯ ржерзЗржХрзЗ ржкрзНрж░рждрж┐рж░рзЛржз ржХрж░ржмрзЗ ржХрж┐ржирзНрждрзБ ржкрзБрж░рзЛржирзЛ рж░рзЛ ржЪрзЗржХ ржХрж░ржмрзЗ ржирж╛)ред

ржкрж░рзЗ ржмрзНржпрж╛ржЪрзЗ ржкрзБрж░рзЛржирзЛ ржбрзЗржЯрж╛ ржХрзНрж▓рж┐ржи ржХрж░рзЗ VALIDATE CONSTRAINT ржЪрж▓рж╛ржиред

ALTER TABLE orders ADD CONSTRAINT orders_amount_check CHECK (amount >= 0) NOT VALID;
-- fix legacy rows
UPDATE orders SET amount = 0 WHERE amount IS NULL;
ALTER TABLE orders VALIDATE CONSTRAINT orders_amount_check;


ржЬржЯрж┐рж▓ ржХржирзНржбрж┐рж╢ржи рж╣рж▓рзЗ TRIGGER ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи

ржкрж░рж╕рзНржкрж░ ржирж┐рж░рзНржнрж░рж╢рзАрж▓ ржХржирзНржбрж┐рж╢ржи ржмрж╛ ржЕрзНржпрж╛ржЧрзНрж░рж┐ржЧрзЗржЯ-ржнрж┐рждрзНрждрж┐ржХ ржЪрзЗржХрзЗрж░ ржЬржирзНржпред

NoSQL (MongoDB) тАФ collection validator ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи

db.createCollection("users", {
  validator: {
    $jsonSchema: {
      bsonType: "object",
      required: ["email"],
      properties: {
        email: { bsonType: "string", pattern: "^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$" }
      }
    }
  }
});

рзн) Common pitfalls (ржкрзНрж░рж╛ржпрж╝ ржпрзЗ ржнрзБрж▓ржЧрзБрж▓рзЛ ржХрж░рж╛ рж╣ржпрж╝)

ржЦрзБржм ржЬрзЛрж░рж╛рж▓рзЛ/ржЬржЯрж┐рж▓ regex ржмрж╕рж╛ржирзЛ (e.g., ржЗржорзЗржЗрж▓рзЗрж░ ржЬржирзНржп ржЕрждрж┐рж░ржЮрзНржЬрж┐ржд ржкрзНржпрж╛ржЯрж╛рж░рзНржи) тЖТ ржмрзИржз ржХрзЗрж╕ ржмрзНрж▓ржХ рж╣рждрзЗ ржкрж╛рж░рзЗред

ржнржмрж┐рж╖рзНржпрждрзЗ ржкрж░рж┐ржмрж░рзНрждржирж╢рзАрж▓ business rule ржХрзЗ hard-code ржХрж░рзЗ ржлрзЗрж▓рж╛ тЖТ ржкрж░ржмрж░рзНрждрзАрждрзЗ рж░рж┐ржлрзНржпрж╛ржХрзНржЯрж░ ржХржарж┐ржиред

Floating point money (FLOAT/DOUBLE) ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛; ржкрж░рж┐ржмрж░рзНрждрзЗ DECIMAL ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржиред

Locale/format assumptions тАФ date/phone/postal code ржкрзНржпрж╛ржЯрж╛рж░рзНржи ржжрзЗрж╢рзЗ ржжрзЗрж╢рзЗ ржЖрж▓рж╛ржжрж╛ред

Constraint ржирж╛ ржжрж┐рзЯрзЗ рж╢рзБржзрзБ ржЕрзНржпрж╛ржк-рж▓рзЗржнрзЗрж▓рзЗ ржнрзНржпрж╛рж▓рж┐ржбрзЗрж╢ржи тАФ ржПржХрж╛ржзрж┐ржХ ржЕрзНржпрж╛ржк/ржЪрзНржпрж╛ржирзЗрж▓рзЗ inconsistency ржЖрж╕рждрзЗ ржкрж╛рж░рзЗред

рзо) Best practices (ржкрзНрж░рзНржпрж╛ржХржЯрж┐ржХрзНржпрж╛рж▓)

DB-рждрзЗ рж╕рзЗржирзНрж╕рж┐ржмрж▓ constraints рж░рж╛ржЦрзБржи (type + NOT NULL + CHECK) тАФ ржЕрзНржпрж╛ржк рж▓рзЗржнрзЗрж▓ рж╕ржЩрзНржЧрзЗ рж░рж╛ржЦржмрзЗржиред

ржбрзЛржорзЗржЗржи definitions centralize ржХрж░рзБржи тАФ Postgres CREATE DOMAIN ржмрж╛ shared validation library ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржиред

ENUM vs lookup table:

ржпржжрж┐ ржорж╛ржи ржЦрзБржм ржХржо ржУ рж╕рзНржерж┐рждрж┐рж╢рзАрж▓ тЖТ ENUM рж╕рзБржмрж┐ржзрж╛ржЬржиржХред

ржпржжрж┐ ржорж╛ржи ржкрж░рж┐ржмрж░рзНрждрж┐ржд рж╣рждрзЗ ржкрж╛рж░рзЗ ржмрж╛ metadata рж▓рж╛ржЧржмрзЗ тЖТ lookup/reference table ржнрж╛рж▓ред

Unique index with lower() ржЗ-ржорзЗржЗрж▓рзЗрж░ ржХрзНрж╖рзЗрждрзНрж░рзЗ case-insensitive uniqueness ржжрж┐рждрзЗред

ржорж╛ржЗржЧрзНрж░рзЗрж╢ржирзЗрж░ рж╕ржоржпрж╝ ржмрзНржпрж╛ржЪ-ржЯрзНрж░рж╛ржирзНрж╕ржлрж░рзНржо ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржбрзЗржЯрж╛ ржХрзНрж▓рж┐ржи ржХрж░рзБржи, рждрж╛рж░ржкрж░ ржХржирж╕рзНржЯрзНрж░рзЗржЗржирзНржЯ ржпрзБржХрзНржд ржХрж░рзБржиред

Unit tests ржмрж╛ржирж┐ржпрж╝рзЗ рж░рж╛ржЦрж╛ ржпрж╛рждрзЗ domain rules ржарж┐ржХ ржЖржЫрзЗ тАФ fixtures ржжрж┐рзЯрзЗ ржЗржирж╕рж╛рж░рзНржЯ ржУ ржЪрзЗржХред

API ржУ DB ржЙржнржпрж╝рзЗ ржнрзНржпрж╛рж▓рж┐ржбрзЗрж╢ржи рж░рж╛ржЦрзБржи тАФ defense-in-depthред

рзп) ржпржЦржи DB-level error ржжрзЗржЦржмрзЗржи тАФ ржХрзА ржжрзЗржЦржмрзЗржи? (ржЙржжрж╛рж╣рж░ржг ржорзЗрж╕рзЗржЬ)

Postgres (NOT NULL):
ERROR: null value in column "email" violates not-null constraint
DETAIL: Failing row contains (1, null, ...)

Postgres (CHECK):
ERROR: new row for relation "persons" violates check constraint "persons_age_check"
DETAIL: Failing row contains (2, 'Alice', -5).

MongoDB validation:
Document failed validation (with details which field failed pattern).

(ржорзЗрж╕рзЗржЬ DB ржЕржирзБржпрж╛ржпрж╝рзА ржнрж┐ржирзНржи рж╣рждрзЗ ржкрж╛рж░рзЗ; ржХрж┐ржирзНрждрзБ ржкржпрж╝рзЗржирзНржЯ рж╣рж▓: DB рж╕рж╛ржзрж╛рж░ржгржд ржмрж▓ржмрзЗ ржХрзЛржи ржХржирж╕рзНржЯрзНрж░рзЗржЗржирзНржЯ ржнрж╛ржЩрж▓ ржПржмржВ ржХрзЛржи рж░рзЛ ржмрзНржпрж░рзНрже рж╣рзЯрзЗржЫрзЗред)

рззрзж) ржХрж┐ржЫрзБ рж░рж┐рзЯрзЗрж▓-ржУржпрж╝рж╛рж░рзНрж▓рзНржб ржбрзЛржорзЗржЗржи ржЙржжрж╛рж╣рж░ржг (use-cases)

Postal code: ржнрж┐ржирзНржи ржжрзЗрж╢рзЗрж░ ржЬржирзНржп ржЖрж▓рж╛ржжрж╛ ржкрзНржпрж╛ржЯрж╛рж░рзНржи тЖТ country-based check ржмрж╛ lookup tableред

Phone number: E.164 standard рж╣рж╛рж░рзНржбржХрзЛржб ржирж╛ ржХрж░рзЗ normalized + country code рж░рж╛ржЦрзБржиред

Currency: ISO 4217 (3-letter) enforced via domain/lookup tableред

Timestamps: created_at TIMESTAMPTZ NOT NULL DEFAULT now(); enforce created_at <= now() ржпржжрж┐ ржжрж░ржХрж╛рж░ред

Monetary values: NUMERIC(12,2) ржПржмржВ CHECK(price >= 0)ред

рззрзз) ржЫрзЛржЯ Cheat-sheet тАФ ржжрзНрж░рзБржд SQL ржЯрзБржХрж░рж╛

NOT NULL: col TYPE NOT NULL

DEFAULT: col TYPE DEFAULT 'x'

CHECK: CONSTRAINT ck_name CHECK (expression)

CREATE DOMAIN (Postgres):
CREATE DOMAIN d_name AS TYPE CHECK (VALUE <condition>);

ENUM (Postgres): CREATE TYPE t AS ENUM ('a','b');

UNIQUE (case-insensitive): CREATE UNIQUE INDEX ux ON t (LOWER(col));

Validate existing rows before adding constraint:
SELECT * FROM table WHERE NOT ( <constraint expression> );

рззрзи) рж╕ржВржХрзНрж╖рж┐ржкрзНржд ржЙржкрж╕ржВрж╣рж╛рж░

Domain Integrity рж╣рж▓рзЛ ржХрж▓рж╛ржорзЗрж░ ржорж╛ржиржЧрзБрж▓рзЛржХрзЗ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ, ржкрзВрж░рзНржмржирж┐рж░рзНржзрж╛рж░рж┐ржд ржУ ржмрзИржз рж░рж╛ржЦрж╛рж░ ржмрзНржпржмрж╕рзНржерж╛ред

Violation рж╣рзЯ ржпржЦржи ржЗржирж╕рж╛рж░рзНржЯ/ржЖржкржбрзЗржЯрзЗ рж╕рзЗржЗ ржХрж▓рж╛ржорзЗрж░ ржорж╛ржи ржбрж┐ржлрж╛ржЗржирзНржб ржбрзЛржорзЗржЗржи/ржЪрзЗржХ/ржЯрж╛ржЗржк ржнрж╛ржЩрзЗред

ржирж┐рж░рж╛ржкржж ржорж╛рж╕рзНржЯрж╛рж░-ржкрзНрж▓рзНржпрж╛ржи: (a) legacy ржбрзЗржЯрж╛ ржЪрзЗржХ ржУ ржкрж░рж┐рж╖рзНржХрж╛рж░ ржХрж░рж╛ тЖТ (b) constraint ржпрзЛржЧ ржХрж░рж╛ (ржзрж╛ржкwise) тЖТ (c) ржЕрзНржпрж╛ржк рж▓рзЗржнрзЗрж▓ ржнрзНржпрж╛рж▓рж┐ржбрзЗрж╢ржи ржмржЬрж╛ржпрж╝ рж░рж╛ржЦрж╛ред








User-Defined Integrity (UDI) тАФ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржирзЛржЯ
ЁЯФ╣ User-Defined Integrity ржХрзА?

User-Defined Integrity рж╣рж▓рзЛ рж╕рзЗржЗрж╕ржм ржирж┐рзЯржо ржмрж╛ ржХржирзНржбрж┐рж╢ржи, ржпрж╛ ржбрж╛ржЯрж╛ржмрзЗржЬ рж╕рж┐рж╕рзНржЯрзЗржо (DBMS) ржбрж┐ржлрж▓рзНржЯржнрж╛ржмрзЗ enforce ржХрж░рзЗ ржирж╛, ржмрж░ржВ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА/ржбрзЗржнрзЗрж▓ржкрж╛рж░ ржирж┐ржЬрзЗрж░ ржкрзНрж░рзЯрзЛржЬржи ржЕржирзБржпрж╛рзЯрзА рж╕ржВржЬрзНржЮрж╛рзЯрж┐ржд ржХрж░рзЗред

ржорж╛ржирзЗ рж╣рж▓рзЛ: ржмрзНржпржмрж╕рж╛рзЯрж┐ржХ ржирж┐рзЯржо (Business rules), рж▓ржЬрж┐ржХ, ржмрж╛ рж╕ржВрж╕рзНржерж╛рж░ policies тАФ ржпрзЗржЧрзБрж▓рзЛ DBMS-ржПрж░ рж╕рзНржЯрзНржпрж╛ржирзНржбрж╛рж░рзНржб constraints (Domain, Entity, Referential) ржжрж┐рзЯрзЗ рж╕рж░рж╛рж╕рж░рж┐ enforce ржХрж░рж╛ ржпрж╛рзЯ ржирж╛ред

ржПржЧрзБрж▓рзЛ рж╕рж╛ржзрж╛рж░ржгржд CHECK constraint, TRIGGER, STORED PROCEDURE, ржмрж╛ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи рж▓ржЬрж┐ржХрзЗрж░ ржорж╛ржзрзНржпржорзЗ enforce ржХрж░рждрзЗ рж╣рзЯред

ЁЯСЙ рж╕рж╣ржЬ ржХржерж╛рзЯ:
User-defined integrity = custom rules ржпрж╛ business requirement ржЕржирзБржпрж╛рзЯрзА data-ржПрж░ ржЙржкрж░ impose ржХрж░рж╛ рж╣рзЯред

ЁЯФ╣ ржХрзЗржи ржжрж░ржХрж╛рж░?

ржкрзНрж░рждрж┐ржЯрж┐ ржмрзНржпржмрж╕рж╛рж░ ржирж┐ржЬрж╕рзНржм ржирж┐рзЯржо ржерж╛ржХрзЗ ржпрзЗржЯрж╛ ржбрж╛ржЯрж╛ржмрзЗржЬрзЗ enforce ржХрж░рж╛ ржжрж░ржХрж╛рж░ред

Domain ржмрж╛ Referential constraint ржжрж┐рзЯрзЗ рж╕ржм ржХрж┐ржЫрзБ express ржХрж░рж╛ рж╕ржорзНржнржм рж╣рзЯ ржирж╛ред

ржнрзБрж▓ ржбрзЗржЯрж╛ ржПржирзНржЯрзНрж░рж┐ ржарзЗржХрж╛рждрзЗ рж╣рзЯ (ржпрзЗржоржи: ржмрзЗрждржи ржирзНржпрзВржирждржо рж╕рзАржорж╛рж░ ржирж┐ржЪрзЗ рж╣ржУрзЯрж╛ ржпрж╛ржмрзЗ ржирж╛, ржПржХржЗ ржХрж░рзНржоржЪрж╛рж░рзА ржПржХрж╕рж╛ржерзЗ ржжрзБржЗ ржбрж┐ржкрж╛рж░рзНржЯржорзЗржирзНржЯрзЗрж░ ржорзНржпрж╛ржирзЗржЬрж╛рж░ рж╣рждрзЗ ржкрж╛рж░ржмрзЗ ржирж╛ ржЗрждрзНржпрж╛ржжрж┐)ред

ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи ржХрзЛржбрзЗрж░ ржЙржкрж░ ржкрзБрж░рзЛржкрзБрж░рж┐ ржирж┐рж░рзНржнрж░ ржирж╛ ржХрж░рзЗ DB-level ржП data consistency ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рж╛ред

ЁЯФ╣ ржХрзАржнрж╛ржмрзЗ User-Defined Integrity enforce ржХрж░рж╛ рж╣рзЯ?

CHECK constraints

Custom expression рж▓рж┐ржЦрзЗ enforce ржХрж░рж╛ ржпрж╛рзЯред

ржпрзЗржоржи: salary >= 10000 AND salary <= 1000000

TRIGGERS

Insert/Update/Delete рж╕ржорзЯ ржХрж╛рж╕рзНржЯржо рж▓ржЬрж┐ржХ enforce ржХрж░рж╛ ржпрж╛рзЯред

ржпрзЗржоржи: ржирждрзБржи order ржПрж░ amount ржпржжрж┐ 0 ржПрж░ ржХржо рж╣рзЯ рждржмрзЗ rejectред

STORED PROCEDURES / FUNCTIONS

Business logic insert/update ржПрж░ ржЖржЧрзЗ call ржХрж░рж╛ржирзЛред

Application-level validation

ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи рж▓рзЗржнрзЗрж▓ ржерзЗржХрзЗржУ enforce ржХрж░рж╛ ржпрж╛рзЯ, ржХрж┐ржирзНрждрзБ рж╕рзЗржХрзНрж╖рзЗрждрзНрж░рзЗ DB-level ржПржУ double-check рж░рж╛ржЦрж╛ ржЙрждрзНрждржоред

ЁЯФ╣ ржЙржжрж╛рж╣рж░ржг
a) Salary рж╕рзАржорж╛ ржирж┐рж░рзНржзрж╛рж░ржг
CREATE TABLE employees (
  emp_id SERIAL PRIMARY KEY,
  name TEXT NOT NULL,
  salary NUMERIC(10,2) NOT NULL,
  CONSTRAINT chk_salary CHECK (salary >= 10000 AND salary <= 1000000)
);


ЁЯСЙ ржПржЦрж╛ржирзЗ рж╢рж░рзНржд рж╣рж▓рзЛ, salary рззрзж,рзжрзжрзж ржЯрж╛ржХрж╛рж░ ржирж┐ржЪрзЗ ржмрж╛ рззрзж,рзжрзж,рзжрзжрзж ржЯрж╛ржХрж╛рж░ ржмрзЗрж╢рж┐ рж╣рждрзЗ ржкрж╛рж░ржмрзЗ ржирж╛ред

b) Date of Birth тЖТ ржХржоржкржХрзНрж╖рзЗ 18 ржмржЫрж░ ржмрзЯрж╕рзА рж╣рждрзЗ рж╣ржмрзЗ
CREATE TABLE users (
  user_id SERIAL PRIMARY KEY,
  name TEXT NOT NULL,
  dob DATE NOT NULL,
  CONSTRAINT chk_dob CHECK (dob <= CURRENT_DATE - INTERVAL '18 years')
);


ЁЯСЙ ржПржЦрж╛ржирзЗ рж╢рж░рзНржд рж╣рж▓рзЛ, рззрзо ржмржЫрж░рзЗрж░ ржХржо ржмрзЯрж╕ рж╣рж▓рзЗ рж░рзЗржХрж░рзНржб ржЗржирж╕рж╛рж░рзНржЯ рж╣ржмрзЗ ржирж╛ред

c) Trigger ржжрж┐рзЯрзЗ ржХрж╛рж╕рзНржЯржо рж░рзБрж▓
CREATE TABLE orders (
  order_id SERIAL PRIMARY KEY,
  amount NUMERIC(10,2) NOT NULL
);

CREATE OR REPLACE FUNCTION check_order_amount()
RETURNS TRIGGER AS $$
BEGIN
  IF NEW.amount <= 0 THEN
    RAISE EXCEPTION 'Order amount must be greater than 0';
  END IF;
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER trg_check_order
BEFORE INSERT OR UPDATE ON orders
FOR EACH ROW
EXECUTE FUNCTION check_order_amount();


ЁЯСЙ ржПржЦрж╛ржирзЗ Trigger ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж╢рж░рзНржд ржжрзЗржУрзЯрж╛ рж╣рж▓рзЛ: Order amount 0 ржмрж╛ рждрж╛рж░ ржХржо рж╣рж▓рзЗ insert/update ржмрзНржпрж░рзНрже рж╣ржмрзЗред

ЁЯФ╣ User-Defined Integrity Violation ржХржмрзЗ рж╣рзЯ?

Violation ржШржЯрзЗ ржпржЦржи ржЗржЙржЬрж╛рж░ ржпрзЗ ржХрж╛рж╕рзНржЯржо ржирж┐рзЯржо ржжрж┐рзЯрзЗржЫрзЗржи рж╕рзЗржЯрж╛ ржнрж╛ржЩрж╛ рж╣рзЯред

ржкрж░рж┐рж╕рзНржерж┐рждрж┐:

Business Rule ржнрж╛ржЩрж╛

Example: salary constraint ржерж╛ржХрж▓рзЗржУ ржХрзЗржЙ salary = 5000 ржЗржирж╕рж╛рж░рзНржЯ ржХрж░рж▓рзЗ тЖТ violationред

Date Logic ржнрж╛ржЩрж╛

Example: Date of Birth constraint тЖТ ржпржжрж┐ ржХрзЗржЙ ржПржоржи DOB ржжрзЗрзЯ ржпрж╛рждрзЗ ржмрзЯрж╕ рззрзм ржмржЫрж░ рж╣рзЯ тЖТ violationред

Trigger Logic ржнрж╛ржЩрж╛

Example: Order amount negative ржжрж┐рж▓рзЗ тЖТ trigger exceptionред

Cross-table Logic ржнрж╛ржЩрж╛

Example: ржПржХржЬржи employee ржПржХрж╕рж╛ржерзЗ ржжрзБржЗ ржбрж┐ржкрж╛рж░рзНржЯржорзЗржирзНржЯрзЗ manager рж╣рждрзЗ ржкрж╛рж░ржмрзЗ ржирж╛ тЖТ ржпржжрж┐ insert ржХрж░рж╛ рж╣рзЯ рждржмрзЗ violationред

Application bypass attempt

ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи ржнрзНржпрж╛рж▓рж┐ржбрзЗрж╢ржи bypass ржХрж░рж▓рзЗржУ DB constraint/trigger ржП ржзрж░рж╛ ржкрзЬржмрзЗред

ЁЯФ╣ Real-world ржЙржжрж╛рж╣рж░ржг

Banking system: Account balance ржХржЦржирзЛ negative рж╣рждрзЗ ржкрж╛рж░ржмрзЗ ржирж╛ред

University DB: ржПржХржЬржи ржЫрж╛рждрзНрж░ ржПржХрж╕рж╛ржерзЗ рззрзжржЯрж┐рж░ ржмрзЗрж╢рж┐ ржХрзЛрж░рзНрж╕ ржирж┐рждрзЗ ржкрж╛рж░ржмрзЗ ржирж╛ред

E-commerce: Product stock ржпржжрж┐ рзж рж╣рзЯ рждржмрзЗ order accept ржХрж░рж╛ ржпрж╛ржмрзЗ ржирж╛ред

Hospital: ржПржХржЬржи ржбрж╛ржХрзНрждрж╛рж░ ржжрж┐ржирзЗ рж╕рж░рзНржмрзЛржЪрзНржЪ рзлрзжржЯрж┐ appointment ржирж┐рждрзЗ ржкрж╛рж░ржмрзЗржиред

тЬЕ рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк

User-Defined Integrity = ржЗржЙржЬрж╛рж░/ржбрзЗржнрзЗрж▓ржкрж╛рж░рзЗрж░ ржХрж╛рж╕рзНржЯржо business rules ржпрж╛ ржбрж╛ржЯрж╛ржмрзЗржЬрзЗ enforce ржХрж░рж╛ рж╣рзЯред

ржПржЯрж┐ Domain/Referential ржПрж░ ржмрж╛ржЗрж░рзЗрж░ constraintред

Violation рж╣рзЯ ржпржЦржи рж╕рзЗржЗ ржХрж╛рж╕рзНржЯржо rule ржнрж╛ржЩрж╛ рж╣рзЯред

Enforce ржХрж░рж╛рж░ рж╕рж╛ржзрж╛рж░ржг ржЙржкрж╛рзЯ:

CHECK constraint

TRIGGERS

Stored Procedures

Application logic